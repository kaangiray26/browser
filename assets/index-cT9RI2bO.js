var bn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function Jc(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ks(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const pe={},sn=[],Je=()=>{},Wc=()=>!1,Or=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gs=e=>e.startsWith("onUpdate:"),we=Object.assign,qs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Yc=Object.prototype.hasOwnProperty,ae=(e,t)=>Yc.call(e,t),te=Array.isArray,on=e=>Mr(e)==="[object Map]",No=e=>Mr(e)==="[object Set]",ne=e=>typeof e=="function",Pe=e=>typeof e=="string",mn=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",Vo=e=>(ye(e)||ne(e))&&ne(e.then)&&ne(e.catch),zo=Object.prototype.toString,Mr=e=>zo.call(e),Qc=e=>Mr(e).slice(8,-1),Ho=e=>Mr(e)==="[object Object]",Js=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nr=Ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Xc=/-(\w)/g,pt=Ir(e=>e.replace(Xc,(t,n)=>n?n.toUpperCase():"")),Zc=/\B([A-Z])/g,yn=Ir(e=>e.replace(Zc,"-$1").toLowerCase()),Ar=Ir(e=>e.charAt(0).toUpperCase()+e.slice(1)),qr=Ir(e=>e?`on${Ar(e)}`:""),It=(e,t)=>!Object.is(e,t),rr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},br=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},fs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Si;const Ko=()=>Si||(Si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ws(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Pe(r)?rl(r):Ws(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Pe(e)||ye(e))return e}const el=/;(?![^(]*\))/g,tl=/:([^]+)/,nl=/\/\*[^]*?\*\//g;function rl(e){const t={};return e.replace(nl,"").split(el).forEach(n=>{if(n){const r=n.split(tl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ys(e){let t="";if(Pe(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const r=Ys(e[n]);r&&(t+=r+" ")}else if(ye(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",il=Ks(sl);function Go(e){return!!e||e===""}const en=e=>Pe(e)?e:e==null?"":te(e)||ye(e)&&(e.toString===zo||!ne(e.toString))?JSON.stringify(e,qo,2):String(e),qo=(e,t)=>t&&t.__v_isRef?qo(e,t.value):on(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Jr(r,i)+" =>"]=s,n),{})}:No(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Jr(n))}:mn(t)?Jr(t):ye(t)&&!te(t)&&!Ho(t)?String(t):t,Jr=(e,t="")=>{var n;return mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qe;class ol{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qe;try{return Qe=this,t()}finally{Qe=n}}}on(){Qe=this}off(){Qe=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function al(e,t=Qe){t&&t.active&&t.effects.push(e)}function cl(){return Qe}let Ut;class Qs{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,al(this,s)}get dirty(){if(this._dirtyLevel===1){Kt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(ll(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Gt()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ot,n=Ut;try{return Ot=!0,Ut=this,this._runnings++,ki(this),this.fn()}finally{Ri(this),this._runnings--,Ut=n,Ot=t}}stop(){var t;this.active&&(ki(this),Ri(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function ll(e){return e.value}function ki(e){e._trackId++,e._depsLength=0}function Ri(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Jo(e.deps[t],e);e.deps.length=e._depsLength}}function Jo(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Ot=!0,us=0;const Wo=[];function Kt(){Wo.push(Ot),Ot=!1}function Gt(){const e=Wo.pop();Ot=e===void 0?!0:e}function Xs(){us++}function Zs(){for(us--;!us&&ds.length;)ds.shift()()}function Yo(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Jo(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ds=[];function Qo(e,t,n){Xs();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(r._shouldSchedule=!0,r.trigger())}Xo(e),Zs()}function Xo(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,ds.push(t.scheduler))}const Zo=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},hs=new WeakMap,Ft=Symbol(""),ps=Symbol("");function Ve(e,t,n){if(Ot&&Ut){let r=hs.get(e);r||hs.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Zo(()=>r.delete(n))),Yo(Ut,s)}}function vt(e,t,n,r,s,i){const o=hs.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&te(e)){const c=Number(r);o.forEach((f,l)=>{(l==="length"||!mn(l)&&l>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":te(e)?Js(n)&&a.push(o.get("length")):(a.push(o.get(Ft)),on(e)&&a.push(o.get(ps)));break;case"delete":te(e)||(a.push(o.get(Ft)),on(e)&&a.push(o.get(ps)));break;case"set":on(e)&&a.push(o.get(Ft));break}Xs();for(const c of a)c&&Qo(c,2);Zs()}const fl=Ks("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mn)),Ti=ul();function ul(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ce(this);for(let i=0,o=this.length;i<o;i++)Ve(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ce)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Kt(),Xs();const r=ce(this)[t].apply(this,n);return Zs(),Gt(),r}}),e}function dl(e){const t=ce(this);return Ve(t,"has",e),t.hasOwnProperty(e)}class ta{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Rl:ia:i?sa:ra).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=te(t);if(!s){if(o&&ae(Ti,n))return Reflect.get(Ti,n,r);if(n==="hasOwnProperty")return dl}const a=Reflect.get(t,n,r);return(mn(n)?ea.has(n):fl(n))||(s||Ve(t,"get",n),i)?a:ze(a)?o&&Js(n)?a:a.value:ye(a)?s?aa(a):jr(a):a}}class na extends ta{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const c=un(i);if(!vr(r)&&!un(r)&&(i=ce(i),r=ce(r)),!te(t)&&ze(i)&&!ze(r))return c?!1:(i.value=r,!0)}const o=te(t)&&Js(n)?Number(n)<t.length:ae(t,n),a=Reflect.set(t,n,r,s);return t===ce(s)&&(o?It(r,i)&&vt(t,"set",n,r):vt(t,"add",n,r)),a}deleteProperty(t,n){const r=ae(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&vt(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!mn(n)||!ea.has(n))&&Ve(t,"has",n),r}ownKeys(t){return Ve(t,"iterate",te(t)?"length":Ft),Reflect.ownKeys(t)}}class hl extends ta{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const pl=new na,gl=new hl,ml=new na(!0),ei=e=>e,Dr=e=>Reflect.getPrototypeOf(e);function Jn(e,t,n=!1,r=!1){e=e.__v_raw;const s=ce(e),i=ce(t);n||(It(t,i)&&Ve(s,"get",t),Ve(s,"get",i));const{has:o}=Dr(s),a=r?ei:n?ri:An;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Wn(e,t=!1){const n=this.__v_raw,r=ce(n),s=ce(e);return t||(It(e,s)&&Ve(r,"has",e),Ve(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Yn(e,t=!1){return e=e.__v_raw,!t&&Ve(ce(e),"iterate",Ft),Reflect.get(e,"size",e)}function Ei(e){e=ce(e);const t=ce(this);return Dr(t).has.call(t,e)||(t.add(e),vt(t,"add",e,e)),this}function Pi(e,t){t=ce(t);const n=ce(this),{has:r,get:s}=Dr(n);let i=r.call(n,e);i||(e=ce(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?It(t,o)&&vt(n,"set",e,t):vt(n,"add",e,t),this}function wi(e){const t=ce(this),{has:n,get:r}=Dr(t);let s=n.call(t,e);s||(e=ce(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&vt(t,"delete",e,void 0),i}function Oi(){const e=ce(this),t=e.size!==0,n=e.clear();return t&&vt(e,"clear",void 0,void 0),n}function Qn(e,t){return function(r,s){const i=this,o=i.__v_raw,a=ce(o),c=t?ei:e?ri:An;return!e&&Ve(a,"iterate",Ft),o.forEach((f,l)=>r.call(s,c(f),c(l),i))}}function Xn(e,t,n){return function(...r){const s=this.__v_raw,i=ce(s),o=on(i),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,f=s[e](...r),l=n?ei:t?ri:An;return!t&&Ve(i,"iterate",c?ps:Ft),{next(){const{value:u,done:h}=f.next();return h?{value:u,done:h}:{value:a?[l(u[0]),l(u[1])]:l(u),done:h}},[Symbol.iterator](){return this}}}}function Ct(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yl(){const e={get(i){return Jn(this,i)},get size(){return Yn(this)},has:Wn,add:Ei,set:Pi,delete:wi,clear:Oi,forEach:Qn(!1,!1)},t={get(i){return Jn(this,i,!1,!0)},get size(){return Yn(this)},has:Wn,add:Ei,set:Pi,delete:wi,clear:Oi,forEach:Qn(!1,!0)},n={get(i){return Jn(this,i,!0)},get size(){return Yn(this,!0)},has(i){return Wn.call(this,i,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:Qn(!0,!1)},r={get(i){return Jn(this,i,!0,!0)},get size(){return Yn(this,!0)},has(i){return Wn.call(this,i,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:Qn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Xn(i,!1,!1),n[i]=Xn(i,!0,!1),t[i]=Xn(i,!1,!0),r[i]=Xn(i,!0,!0)}),[e,n,t,r]}const[_l,bl,vl,xl]=yl();function ti(e,t){const n=t?e?xl:vl:e?bl:_l;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ae(n,s)&&s in r?n:r,s,i)}const Cl={get:ti(!1,!1)},Sl={get:ti(!1,!0)},kl={get:ti(!0,!1)},ra=new WeakMap,sa=new WeakMap,ia=new WeakMap,Rl=new WeakMap;function Tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function El(e){return e.__v_skip||!Object.isExtensible(e)?0:Tl(Qc(e))}function jr(e){return un(e)?e:ni(e,!1,pl,Cl,ra)}function oa(e){return ni(e,!1,ml,Sl,sa)}function aa(e){return ni(e,!0,gl,kl,ia)}function ni(e,t,n,r,s){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=El(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function an(e){return un(e)?an(e.__v_raw):!!(e&&e.__v_isReactive)}function un(e){return!!(e&&e.__v_isReadonly)}function vr(e){return!!(e&&e.__v_isShallow)}function ca(e){return an(e)||un(e)}function ce(e){const t=e&&e.__v_raw;return t?ce(t):e}function la(e){return br(e,"__v_skip",!0),e}const An=e=>ye(e)?jr(e):e,ri=e=>ye(e)?aa(e):e;class fa{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Qs(()=>t(this._value),()=>sr(this,1),()=>this.dep&&Xo(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ce(this);return(!t._cacheable||t.effect.dirty)&&It(t._value,t._value=t.effect.run())&&sr(t,2),ua(t),t.effect._dirtyLevel>=1&&sr(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Pl(e,t,n=!1){let r,s;const i=ne(e);return i?(r=e,s=Je):(r=e.get,s=e.set),new fa(r,s,i||!s,n)}function ua(e){Ot&&Ut&&(e=ce(e),Yo(Ut,e.dep||(e.dep=Zo(()=>e.dep=void 0,e instanceof fa?e:void 0))))}function sr(e,t=2,n){e=ce(e);const r=e.dep;r&&Qo(r,t)}function ze(e){return!!(e&&e.__v_isRef===!0)}function _t(e){return da(e,!1)}function wl(e){return da(e,!0)}function da(e,t){return ze(e)?e:new Ol(e,t)}class Ol{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ce(t),this._value=n?t:An(t)}get value(){return ua(this),this._value}set value(t){const n=this.__v_isShallow||vr(t)||un(t);t=n?t:ce(t),It(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:An(t),sr(this,2))}}function Nt(e){return ze(e)?e.value:e}const Ml={get:(e,t,n)=>Nt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ze(s)&&!ze(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ha(e){return an(e)?e:new Proxy(e,Ml)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mt(e,t,n,r){let s;try{s=r?e(...r):e()}catch(i){Lr(i,t,n)}return s}function tt(e,t,n,r){if(ne(e)){const i=Mt(e,t,n,r);return i&&Vo(i)&&i.catch(o=>{Lr(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(tt(e[i],t,n,r));return s}function Lr(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const f=i.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,o,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){Mt(c,null,10,[e,o,a]);return}}Il(e,n,s,r)}function Il(e,t,n,r=!0){console.error(e)}let Dn=!1,gs=!1;const Ie=[];let ft=0;const cn=[];let Tt=null,Lt=0;const pa=Promise.resolve();let si=null;function ga(e){const t=si||pa;return e?t.then(this?e.bind(this):e):t}function Al(e){let t=ft+1,n=Ie.length;for(;t<n;){const r=t+n>>>1,s=Ie[r],i=jn(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function ii(e){(!Ie.length||!Ie.includes(e,Dn&&e.allowRecurse?ft+1:ft))&&(e.id==null?Ie.push(e):Ie.splice(Al(e.id),0,e),ma())}function ma(){!Dn&&!gs&&(gs=!0,si=pa.then(_a))}function Dl(e){const t=Ie.indexOf(e);t>ft&&Ie.splice(t,1)}function jl(e){te(e)?cn.push(...e):(!Tt||!Tt.includes(e,e.allowRecurse?Lt+1:Lt))&&cn.push(e),ma()}function Mi(e,t,n=Dn?ft+1:0){for(;n<Ie.length;n++){const r=Ie[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Ie.splice(n,1),n--,r()}}}function ya(e){if(cn.length){const t=[...new Set(cn)].sort((n,r)=>jn(n)-jn(r));if(cn.length=0,Tt){Tt.push(...t);return}for(Tt=t,Lt=0;Lt<Tt.length;Lt++)Tt[Lt]();Tt=null,Lt=0}}const jn=e=>e.id==null?1/0:e.id,Ll=(e,t)=>{const n=jn(e)-jn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _a(e){gs=!1,Dn=!0,Ie.sort(Ll);try{for(ft=0;ft<Ie.length;ft++){const t=Ie[ft];t&&t.active!==!1&&Mt(t,null,14)}}finally{ft=0,Ie.length=0,ya(),Dn=!1,si=null,(Ie.length||cn.length)&&_a()}}function $l(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||pe;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:h}=r[l]||pe;h&&(s=n.map(_=>Pe(_)?_.trim():_)),u&&(s=n.map(fs))}let a,c=r[a=qr(t)]||r[a=qr(pt(t))];!c&&i&&(c=r[a=qr(yn(t))]),c&&tt(c,e,6,s);const f=r[a+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,tt(f,e,6,s)}}function ba(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!ne(e)){const c=f=>{const l=ba(f,t,!0);l&&(a=!0,we(o,l))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(ye(e)&&r.set(e,null),null):(te(i)?i.forEach(c=>o[c]=null):we(o,i),ye(e)&&r.set(e,o),o)}function $r(e,t){return!e||!Or(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,yn(t))||ae(e,t))}let Ne=null,va=null;function xr(e){const t=Ne;return Ne=e,va=e&&e.type.__scopeId||null,t}function Bl(e,t=Ne,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Vi(-1);const i=xr(t);let o;try{o=e(...s)}finally{xr(i),r._d&&Vi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:f,render:l,renderCache:u,data:h,setupState:_,ctx:x,inheritAttrs:T}=e;let B,z;const Z=xr(e);try{if(n.shapeFlag&4){const oe=s||r,de=oe;B=lt(l.call(de,oe,u,i,_,h,x)),z=c}else{const oe=t;B=lt(oe.length>1?oe(i,{attrs:c,slots:a,emit:f}):oe(i,null)),z=t.props?c:Ul(c)}}catch(oe){Pn.length=0,Lr(oe,e,1),B=Ge(Ln)}let D=B;if(z&&T!==!1){const oe=Object.keys(z),{shapeFlag:de}=D;oe.length&&de&7&&(o&&oe.some(Gs)&&(z=Fl(z,o)),D=dn(D,z))}return n.dirs&&(D=dn(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),B=D,xr(Z),B}const Ul=e=>{let t;for(const n in e)(n==="class"||n==="style"||Or(n))&&((t||(t={}))[n]=e[n]);return t},Fl=(e,t)=>{const n={};for(const r in e)(!Gs(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Nl(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ii(r,o,f):!!o;if(c&8){const l=t.dynamicProps;for(let u=0;u<l.length;u++){const h=l[u];if(o[h]!==r[h]&&!$r(f,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ii(r,o,f):!0:!!o;return!1}function Ii(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!$r(n,i))return!0}return!1}function Vl({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const xa="components";function zl(e,t){return Kl(xa,e,!0,t)||e}const Hl=Symbol.for("v-ndc");function Kl(e,t,n=!0,r=!1){const s=Ne||Ae;if(s){const i=s.type;if(e===xa){const a=Uf(i,!1);if(a&&(a===t||a===pt(t)||a===Ar(pt(t))))return i}const o=Ai(s[e]||i[e],t)||Ai(s.appContext[e],t);return!o&&r?i:o}}function Ai(e,t){return e&&(e[t]||e[pt(t)]||e[Ar(pt(t))])}const Gl=e=>e.__isSuspense;function ql(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):jl(e)}const Jl=Symbol.for("v-scx"),Wl=()=>dt(Jl),Zn={};function ir(e,t,n){return Ca(e,t,n)}function Ca(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=pe){if(t&&i){const W=t;t=(...ke)=>{W(...ke),de()}}const c=Ae,f=W=>r===!0?W:Bt(W,r===!1?1:void 0);let l,u=!1,h=!1;if(ze(e)?(l=()=>e.value,u=vr(e)):an(e)?(l=()=>f(e),u=!0):te(e)?(h=!0,u=e.some(W=>an(W)||vr(W)),l=()=>e.map(W=>{if(ze(W))return W.value;if(an(W))return f(W);if(ne(W))return Mt(W,c,2)})):ne(e)?t?l=()=>Mt(e,c,2):l=()=>(_&&_(),tt(e,c,3,[x])):l=Je,t&&r){const W=l;l=()=>Bt(W())}let _,x=W=>{_=D.onStop=()=>{Mt(W,c,4),_=D.onStop=void 0}},T;if(Vr)if(x=Je,t?n&&tt(t,c,3,[l(),h?[]:void 0,x]):l(),s==="sync"){const W=Wl();T=W.__watcherHandles||(W.__watcherHandles=[])}else return Je;let B=h?new Array(e.length).fill(Zn):Zn;const z=()=>{if(!(!D.active||!D.dirty))if(t){const W=D.run();(r||u||(h?W.some((ke,xe)=>It(ke,B[xe])):It(W,B)))&&(_&&_(),tt(t,c,3,[W,B===Zn?void 0:h&&B[0]===Zn?[]:B,x]),B=W)}else D.run()};z.allowRecurse=!!t;let Z;s==="sync"?Z=z:s==="post"?Z=()=>Be(z,c&&c.suspense):(z.pre=!0,c&&(z.id=c.uid),Z=()=>ii(z));const D=new Qs(l,Je,Z),oe=cl(),de=()=>{D.stop(),oe&&qs(oe.effects,D)};return t?n?z():B=D.run():s==="post"?Be(D.run.bind(D),c&&c.suspense):D.run(),T&&T.push(de),de}function Yl(e,t,n){const r=this.proxy,s=Pe(e)?e.includes(".")?Sa(r,e):()=>r[e]:e.bind(r,r);let i;ne(t)?i=t:(i=t.handler,n=t);const o=Kn(this),a=Ca(s,i.bind(r),n);return o(),a}function Sa(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Bt(e,t,n=0,r){if(!ye(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),ze(e))Bt(e.value,t,n,r);else if(te(e))for(let s=0;s<e.length;s++)Bt(e[s],t,n,r);else if(No(e)||on(e))e.forEach(s=>{Bt(s,t,n,r)});else if(Ho(e))for(const s in e)Bt(e[s],t,n,r);return e}function kn(e,t){if(Ne===null)return e;const n=zr(Ne)||Ne.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,c=pe]=t[s];i&&(ne(i)&&(i={mounted:i,updated:i}),i.deep&&Bt(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return e}function At(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Kt(),tt(c,n,8,[e.el,a,e,t]),Gt())}}/*! #__NO_SIDE_EFFECTS__ */function ka(e,t){return ne(e)?we({name:e.name},t,{setup:e}):e}const or=e=>!!e.type.__asyncLoader,Ra=e=>e.type.__isKeepAlive;function Ql(e,t){Ta(e,"a",t)}function Xl(e,t){Ta(e,"da",t)}function Ta(e,t,n=Ae){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Br(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ra(s.parent.vnode)&&Zl(r,t,n,s),s=s.parent}}function Zl(e,t,n,r){const s=Br(t,e,r,!0);Ea(()=>{qs(r[t],s)},n)}function Br(e,t,n=Ae,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Kt();const a=Kn(n),c=tt(t,n,e,o);return a(),Gt(),c});return r?s.unshift(i):s.push(i),i}}const xt=e=>(t,n=Ae)=>(!Vr||e==="sp")&&Br(e,(...r)=>t(...r),n),oi=xt("bm"),ef=xt("m"),tf=xt("bu"),nf=xt("u"),rf=xt("bum"),Ea=xt("um"),sf=xt("sp"),of=xt("rtg"),af=xt("rtc");function cf(e,t=Ae){Br("ec",e,t)}const ms=e=>e?Ua(e)?zr(e)||e.proxy:ms(e.parent):null,En=we(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ms(e.parent),$root:e=>ms(e.root),$emit:e=>e.emit,$options:e=>ai(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,ii(e.update)}),$nextTick:e=>e.n||(e.n=ga.bind(e.proxy)),$watch:e=>Yl.bind(e)}),Yr=(e,t)=>e!==pe&&!e.__isScriptSetup&&ae(e,t),lf={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=e;let f;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Yr(r,t))return o[t]=1,r[t];if(s!==pe&&ae(s,t))return o[t]=2,s[t];if((f=e.propsOptions[0])&&ae(f,t))return o[t]=3,i[t];if(n!==pe&&ae(n,t))return o[t]=4,n[t];ys&&(o[t]=0)}}const l=En[t];let u,h;if(l)return t==="$attrs"&&Ve(e,"get",t),l(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==pe&&ae(n,t))return o[t]=4,n[t];if(h=c.config.globalProperties,ae(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Yr(s,t)?(s[t]=n,!0):r!==pe&&ae(r,t)?(r[t]=n,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==pe&&ae(e,o)||Yr(t,o)||(a=i[0])&&ae(a,o)||ae(r,o)||ae(En,o)||ae(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ae(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Di(e){return te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ys=!0;function ff(e){const t=ai(e),n=e.proxy,r=e.ctx;ys=!1,t.beforeCreate&&ji(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:f,created:l,beforeMount:u,mounted:h,beforeUpdate:_,updated:x,activated:T,deactivated:B,beforeDestroy:z,beforeUnmount:Z,destroyed:D,unmounted:oe,render:de,renderTracked:W,renderTriggered:ke,errorCaptured:xe,serverPrefetch:rt,expose:Oe,inheritAttrs:We,components:st,directives:m,filters:$}=t;if(f&&uf(f,r,null),o)for(const v in o){const A=o[v];ne(A)&&(r[v]=A.bind(n))}if(s){const v=s.call(n,n);ye(v)&&(e.data=jr(v))}if(ys=!0,i)for(const v in i){const A=i[v],q=ne(A)?A.bind(n,n):ne(A.get)?A.get.bind(n,n):Je,Y=!ne(A)&&ne(A.set)?A.set.bind(n):Je,Q=Xe({get:q,set:Y});Object.defineProperty(r,v,{enumerable:!0,configurable:!0,get:()=>Q.value,set:X=>Q.value=X})}if(a)for(const v in a)Pa(a[v],r,n,v);if(c){const v=ne(c)?c.call(n):c;Reflect.ownKeys(v).forEach(A=>{ar(A,v[A])})}l&&ji(l,e,"c");function E(v,A){te(A)?A.forEach(q=>v(q.bind(n))):A&&v(A.bind(n))}if(E(oi,u),E(ef,h),E(tf,_),E(nf,x),E(Ql,T),E(Xl,B),E(cf,xe),E(af,W),E(of,ke),E(rf,Z),E(Ea,oe),E(sf,rt),te(Oe))if(Oe.length){const v=e.exposed||(e.exposed={});Oe.forEach(A=>{Object.defineProperty(v,A,{get:()=>n[A],set:q=>n[A]=q})})}else e.exposed||(e.exposed={});de&&e.render===Je&&(e.render=de),We!=null&&(e.inheritAttrs=We),st&&(e.components=st),m&&(e.directives=m)}function uf(e,t,n=Je){te(e)&&(e=_s(e));for(const r in e){const s=e[r];let i;ye(s)?"default"in s?i=dt(s.from||r,s.default,!0):i=dt(s.from||r):i=dt(s),ze(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ji(e,t,n){tt(te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pa(e,t,n,r){const s=r.includes(".")?Sa(n,r):()=>n[r];if(Pe(e)){const i=t[e];ne(i)&&ir(s,i)}else if(ne(e))ir(s,e.bind(n));else if(ye(e))if(te(e))e.forEach(i=>Pa(i,t,n,r));else{const i=ne(e.handler)?e.handler.bind(n):t[e.handler];ne(i)&&ir(s,i,e)}}function ai(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(f=>Cr(c,f,o,!0)),Cr(c,t,o)),ye(t)&&i.set(t,c),c}function Cr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Cr(e,i,n,!0),s&&s.forEach(o=>Cr(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=df[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const df={data:Li,props:$i,emits:$i,methods:Rn,computed:Rn,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:Rn,directives:Rn,watch:pf,provide:Li,inject:hf};function Li(e,t){return t?e?function(){return we(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function hf(e,t){return Rn(_s(e),_s(t))}function _s(e){if(te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function Rn(e,t){return e?we(Object.create(null),e,t):t}function $i(e,t){return e?te(e)&&te(t)?[...new Set([...e,...t])]:we(Object.create(null),Di(e),Di(t??{})):t}function pf(e,t){if(!e)return t;if(!t)return e;const n=we(Object.create(null),e);for(const r in t)n[r]=je(e[r],t[r]);return n}function wa(){return{app:null,config:{isNativeTag:Wc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gf=0;function mf(e,t){return function(r,s=null){ne(r)||(r=we({},r)),s!=null&&!ye(s)&&(s=null);const i=wa(),o=new WeakSet;let a=!1;const c=i.app={_uid:gf++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Nf,get config(){return i.config},set config(f){},use(f,...l){return o.has(f)||(f&&ne(f.install)?(o.add(f),f.install(c,...l)):ne(f)&&(o.add(f),f(c,...l))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,l){return l?(i.components[f]=l,c):i.components[f]},directive(f,l){return l?(i.directives[f]=l,c):i.directives[f]},mount(f,l,u){if(!a){const h=Ge(r,s);return h.appContext=i,u===!0?u="svg":u===!1&&(u=void 0),l&&t?t(h,f):e(h,f,u),a=!0,c._container=f,f.__vue_app__=c,zr(h.component)||h.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(f,l){return i.provides[f]=l,c},runWithContext(f){Sr=c;try{return f()}finally{Sr=null}}};return c}}let Sr=null;function ar(e,t){if(Ae){let n=Ae.provides;const r=Ae.parent&&Ae.parent.provides;r===n&&(n=Ae.provides=Object.create(r)),n[e]=t}}function dt(e,t,n=!1){const r=Ae||Ne;if(r||Sr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Sr._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ne(t)?t.call(r&&r.proxy):t}}function yf(e,t,n,r=!1){const s={},i={};br(i,Fr,1),e.propsDefaults=Object.create(null),Oa(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:oa(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function _f(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ce(s),[c]=e.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=e.vnode.dynamicProps;for(let u=0;u<l.length;u++){let h=l[u];if($r(e.emitsOptions,h))continue;const _=t[h];if(c)if(ae(i,h))_!==i[h]&&(i[h]=_,f=!0);else{const x=pt(h);s[x]=bs(c,a,x,_,e,!1)}else _!==i[h]&&(i[h]=_,f=!0)}}}else{Oa(e,t,s,i)&&(f=!0);let l;for(const u in a)(!t||!ae(t,u)&&((l=yn(u))===u||!ae(t,l)))&&(c?n&&(n[u]!==void 0||n[l]!==void 0)&&(s[u]=bs(c,a,u,void 0,e,!0)):delete s[u]);if(i!==a)for(const u in i)(!t||!ae(t,u))&&(delete i[u],f=!0)}f&&vt(e,"set","$attrs")}function Oa(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(nr(c))continue;const f=t[c];let l;s&&ae(s,l=pt(c))?!i||!i.includes(l)?n[l]=f:(a||(a={}))[l]=f:$r(e.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(i){const c=ce(n),f=a||pe;for(let l=0;l<i.length;l++){const u=i[l];n[u]=bs(s,c,u,f[u],e,!ae(f,u))}}return o}function bs(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=ae(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ne(c)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const l=Kn(s);r=f[n]=c.call(null,t),l()}}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===yn(n))&&(r=!0))}return r}function Ma(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let c=!1;if(!ne(e)){const l=u=>{c=!0;const[h,_]=Ma(u,t,!0);we(o,h),_&&a.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!c)return ye(e)&&r.set(e,sn),sn;if(te(i))for(let l=0;l<i.length;l++){const u=pt(i[l]);Bi(u)&&(o[u]=pe)}else if(i)for(const l in i){const u=pt(l);if(Bi(u)){const h=i[l],_=o[u]=te(h)||ne(h)?{type:h}:we({},h);if(_){const x=Ni(Boolean,_.type),T=Ni(String,_.type);_[0]=x>-1,_[1]=T<0||x<T,(x>-1||ae(_,"default"))&&a.push(u)}}}const f=[o,a];return ye(e)&&r.set(e,f),f}function Bi(e){return e[0]!=="$"}function Ui(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Fi(e,t){return Ui(e)===Ui(t)}function Ni(e,t){return te(t)?t.findIndex(n=>Fi(n,e)):ne(t)&&Fi(t,e)?0:-1}const Ia=e=>e[0]==="_"||e==="$stable",ci=e=>te(e)?e.map(lt):[lt(e)],bf=(e,t,n)=>{if(t._n)return t;const r=Bl((...s)=>ci(t(...s)),n);return r._c=!1,r},Aa=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ia(s))continue;const i=e[s];if(ne(i))t[s]=bf(s,i,r);else if(i!=null){const o=ci(i);t[s]=()=>o}}},Da=(e,t)=>{const n=ci(t);e.slots.default=()=>n},vf=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ce(t),br(t,"_",n)):Aa(t,e.slots={})}else e.slots={},t&&Da(e,t);br(e.slots,Fr,1)},xf=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=pe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(we(s,t),!n&&a===1&&delete s._):(i=!t.$stable,Aa(t,s)),o=t}else t&&(Da(e,t),o={default:1});if(i)for(const a in s)!Ia(a)&&o[a]==null&&delete s[a]};function vs(e,t,n,r,s=!1){if(te(e)){e.forEach((h,_)=>vs(h,t&&(te(t)?t[_]:t),n,r,s));return}if(or(r)&&!s)return;const i=r.shapeFlag&4?zr(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=e,f=t&&t.r,l=a.refs===pe?a.refs={}:a.refs,u=a.setupState;if(f!=null&&f!==c&&(Pe(f)?(l[f]=null,ae(u,f)&&(u[f]=null)):ze(f)&&(f.value=null)),ne(c))Mt(c,a,12,[o,l]);else{const h=Pe(c),_=ze(c),x=e.f;if(h||_){const T=()=>{if(x){const B=h?ae(u,c)?u[c]:l[c]:c.value;s?te(B)&&qs(B,i):te(B)?B.includes(i)||B.push(i):h?(l[c]=[i],ae(u,c)&&(u[c]=l[c])):(c.value=[i],e.k&&(l[e.k]=c.value))}else h?(l[c]=o,ae(u,c)&&(u[c]=o)):_&&(c.value=o,e.k&&(l[e.k]=o))};s||x?T():(T.id=-1,Be(T,n))}}}const Be=ql;function Cf(e){return Sf(e)}function Sf(e,t){const n=Ko();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:f,setElementText:l,parentNode:u,nextSibling:h,setScopeId:_=Je,insertStaticContent:x}=e,T=(d,p,b,R=null,S=null,M=null,L=void 0,O=null,I=!!p.dynamicChildren)=>{if(d===p)return;d&&!vn(d,p)&&(R=k(d),X(d,S,M,!0),d=null),p.patchFlag===-2&&(I=!1,p.dynamicChildren=null);const{type:w,ref:F,shapeFlag:J}=p;switch(w){case Ur:B(d,p,b,R);break;case Ln:z(d,p,b,R);break;case cr:d==null&&Z(p,b,R,L);break;case bt:st(d,p,b,R,S,M,L,O,I);break;default:J&1?de(d,p,b,R,S,M,L,O,I):J&6?m(d,p,b,R,S,M,L,O,I):(J&64||J&128)&&w.process(d,p,b,R,S,M,L,O,I,K)}F!=null&&S&&vs(F,d&&d.ref,M,p||d,!p)},B=(d,p,b,R)=>{if(d==null)r(p.el=a(p.children),b,R);else{const S=p.el=d.el;p.children!==d.children&&f(S,p.children)}},z=(d,p,b,R)=>{d==null?r(p.el=c(p.children||""),b,R):p.el=d.el},Z=(d,p,b,R)=>{[d.el,d.anchor]=x(d.children,p,b,R,d.el,d.anchor)},D=({el:d,anchor:p},b,R)=>{let S;for(;d&&d!==p;)S=h(d),r(d,b,R),d=S;r(p,b,R)},oe=({el:d,anchor:p})=>{let b;for(;d&&d!==p;)b=h(d),s(d),d=b;s(p)},de=(d,p,b,R,S,M,L,O,I)=>{p.type==="svg"?L="svg":p.type==="math"&&(L="mathml"),d==null?W(p,b,R,S,M,L,O,I):rt(d,p,S,M,L,O,I)},W=(d,p,b,R,S,M,L,O)=>{let I,w;const{props:F,shapeFlag:J,transition:G,dirs:ee}=d;if(I=d.el=o(d.type,M,F&&F.is,F),J&8?l(I,d.children):J&16&&xe(d.children,I,null,R,S,Qr(d,M),L,O),ee&&At(d,null,R,"created"),ke(I,d,d.scopeId,L,R),F){for(const ue in F)ue!=="value"&&!nr(ue)&&i(I,ue,null,F[ue],M,d.children,R,S,Me);"value"in F&&i(I,"value",null,F.value,M),(w=F.onVnodeBeforeMount)&&ot(w,R,d)}ee&&At(d,null,R,"beforeMount");const re=kf(S,G);re&&G.beforeEnter(I),r(I,p,b),((w=F&&F.onVnodeMounted)||re||ee)&&Be(()=>{w&&ot(w,R,d),re&&G.enter(I),ee&&At(d,null,R,"mounted")},S)},ke=(d,p,b,R,S)=>{if(b&&_(d,b),R)for(let M=0;M<R.length;M++)_(d,R[M]);if(S){let M=S.subTree;if(p===M){const L=S.vnode;ke(d,L,L.scopeId,L.slotScopeIds,S.parent)}}},xe=(d,p,b,R,S,M,L,O,I=0)=>{for(let w=I;w<d.length;w++){const F=d[w]=O?Et(d[w]):lt(d[w]);T(null,F,p,b,R,S,M,L,O)}},rt=(d,p,b,R,S,M,L)=>{const O=p.el=d.el;let{patchFlag:I,dynamicChildren:w,dirs:F}=p;I|=d.patchFlag&16;const J=d.props||pe,G=p.props||pe;let ee;if(b&&Dt(b,!1),(ee=G.onVnodeBeforeUpdate)&&ot(ee,b,p,d),F&&At(p,d,b,"beforeUpdate"),b&&Dt(b,!0),w?Oe(d.dynamicChildren,w,O,b,R,Qr(p,S),M):L||A(d,p,O,null,b,R,Qr(p,S),M,!1),I>0){if(I&16)We(O,p,J,G,b,R,S);else if(I&2&&J.class!==G.class&&i(O,"class",null,G.class,S),I&4&&i(O,"style",J.style,G.style,S),I&8){const re=p.dynamicProps;for(let ue=0;ue<re.length;ue++){const me=re[ue],Re=J[me],Ye=G[me];(Ye!==Re||me==="value")&&i(O,me,Re,Ye,S,d.children,b,R,Me)}}I&1&&d.children!==p.children&&l(O,p.children)}else!L&&w==null&&We(O,p,J,G,b,R,S);((ee=G.onVnodeUpdated)||F)&&Be(()=>{ee&&ot(ee,b,p,d),F&&At(p,d,b,"updated")},R)},Oe=(d,p,b,R,S,M,L)=>{for(let O=0;O<p.length;O++){const I=d[O],w=p[O],F=I.el&&(I.type===bt||!vn(I,w)||I.shapeFlag&70)?u(I.el):b;T(I,w,F,null,R,S,M,L,!0)}},We=(d,p,b,R,S,M,L)=>{if(b!==R){if(b!==pe)for(const O in b)!nr(O)&&!(O in R)&&i(d,O,b[O],null,L,p.children,S,M,Me);for(const O in R){if(nr(O))continue;const I=R[O],w=b[O];I!==w&&O!=="value"&&i(d,O,w,I,L,p.children,S,M,Me)}"value"in R&&i(d,"value",b.value,R.value,L)}},st=(d,p,b,R,S,M,L,O,I)=>{const w=p.el=d?d.el:a(""),F=p.anchor=d?d.anchor:a("");let{patchFlag:J,dynamicChildren:G,slotScopeIds:ee}=p;ee&&(O=O?O.concat(ee):ee),d==null?(r(w,b,R),r(F,b,R),xe(p.children||[],b,F,S,M,L,O,I)):J>0&&J&64&&G&&d.dynamicChildren?(Oe(d.dynamicChildren,G,b,S,M,L,O),(p.key!=null||S&&p===S.subTree)&&ja(d,p,!0)):A(d,p,b,F,S,M,L,O,I)},m=(d,p,b,R,S,M,L,O,I)=>{p.slotScopeIds=O,d==null?p.shapeFlag&512?S.ctx.activate(p,b,R,L,I):$(p,b,R,S,M,L,I):P(d,p,I)},$=(d,p,b,R,S,M,L)=>{const O=d.component=Df(d,R,S);if(Ra(d)&&(O.ctx.renderer=K),jf(O),O.asyncDep){if(S&&S.registerDep(O,E),!d.el){const I=O.subTree=Ge(Ln);z(null,I,p,b)}}else E(O,d,p,b,S,M,L)},P=(d,p,b)=>{const R=p.component=d.component;if(Nl(d,p,b))if(R.asyncDep&&!R.asyncResolved){v(R,p,b);return}else R.next=p,Dl(R.update),R.effect.dirty=!0,R.update();else p.el=d.el,R.vnode=p},E=(d,p,b,R,S,M,L)=>{const O=()=>{if(d.isMounted){let{next:F,bu:J,u:G,parent:ee,vnode:re}=d;{const Qt=La(d);if(Qt){F&&(F.el=re.el,v(d,F,L)),Qt.asyncDep.then(()=>{d.isUnmounted||O()});return}}let ue=F,me;Dt(d,!1),F?(F.el=re.el,v(d,F,L)):F=re,J&&rr(J),(me=F.props&&F.props.onVnodeBeforeUpdate)&&ot(me,ee,F,re),Dt(d,!0);const Re=Wr(d),Ye=d.subTree;d.subTree=Re,T(Ye,Re,u(Ye.el),k(Ye),d,S,M),F.el=Re.el,ue===null&&Vl(d,Re.el),G&&Be(G,S),(me=F.props&&F.props.onVnodeUpdated)&&Be(()=>ot(me,ee,F,re),S)}else{let F;const{el:J,props:G}=p,{bm:ee,m:re,parent:ue}=d,me=or(p);if(Dt(d,!1),ee&&rr(ee),!me&&(F=G&&G.onVnodeBeforeMount)&&ot(F,ue,p),Dt(d,!0),J&&ge){const Re=()=>{d.subTree=Wr(d),ge(J,d.subTree,d,S,null)};me?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Re()):Re()}else{const Re=d.subTree=Wr(d);T(null,Re,b,R,d,S,M),p.el=Re.el}if(re&&Be(re,S),!me&&(F=G&&G.onVnodeMounted)){const Re=p;Be(()=>ot(F,ue,Re),S)}(p.shapeFlag&256||ue&&or(ue.vnode)&&ue.vnode.shapeFlag&256)&&d.a&&Be(d.a,S),d.isMounted=!0,p=b=R=null}},I=d.effect=new Qs(O,Je,()=>ii(w),d.scope),w=d.update=()=>{I.dirty&&I.run()};w.id=d.uid,Dt(d,!0),w()},v=(d,p,b)=>{p.component=d;const R=d.vnode.props;d.vnode=p,d.next=null,_f(d,p.props,R,b),xf(d,p.children,b),Kt(),Mi(d),Gt()},A=(d,p,b,R,S,M,L,O,I=!1)=>{const w=d&&d.children,F=d?d.shapeFlag:0,J=p.children,{patchFlag:G,shapeFlag:ee}=p;if(G>0){if(G&128){Y(w,J,b,R,S,M,L,O,I);return}else if(G&256){q(w,J,b,R,S,M,L,O,I);return}}ee&8?(F&16&&Me(w,S,M),J!==w&&l(b,J)):F&16?ee&16?Y(w,J,b,R,S,M,L,O,I):Me(w,S,M,!0):(F&8&&l(b,""),ee&16&&xe(J,b,R,S,M,L,O,I))},q=(d,p,b,R,S,M,L,O,I)=>{d=d||sn,p=p||sn;const w=d.length,F=p.length,J=Math.min(w,F);let G;for(G=0;G<J;G++){const ee=p[G]=I?Et(p[G]):lt(p[G]);T(d[G],ee,b,null,S,M,L,O,I)}w>F?Me(d,S,M,!0,!1,J):xe(p,b,R,S,M,L,O,I,J)},Y=(d,p,b,R,S,M,L,O,I)=>{let w=0;const F=p.length;let J=d.length-1,G=F-1;for(;w<=J&&w<=G;){const ee=d[w],re=p[w]=I?Et(p[w]):lt(p[w]);if(vn(ee,re))T(ee,re,b,null,S,M,L,O,I);else break;w++}for(;w<=J&&w<=G;){const ee=d[J],re=p[G]=I?Et(p[G]):lt(p[G]);if(vn(ee,re))T(ee,re,b,null,S,M,L,O,I);else break;J--,G--}if(w>J){if(w<=G){const ee=G+1,re=ee<F?p[ee].el:R;for(;w<=G;)T(null,p[w]=I?Et(p[w]):lt(p[w]),b,re,S,M,L,O,I),w++}}else if(w>G)for(;w<=J;)X(d[w],S,M,!0),w++;else{const ee=w,re=w,ue=new Map;for(w=re;w<=G;w++){const He=p[w]=I?Et(p[w]):lt(p[w]);He.key!=null&&ue.set(He.key,w)}let me,Re=0;const Ye=G-re+1;let Qt=!1,vi=0;const _n=new Array(Ye);for(w=0;w<Ye;w++)_n[w]=0;for(w=ee;w<=J;w++){const He=d[w];if(Re>=Ye){X(He,S,M,!0);continue}let it;if(He.key!=null)it=ue.get(He.key);else for(me=re;me<=G;me++)if(_n[me-re]===0&&vn(He,p[me])){it=me;break}it===void 0?X(He,S,M,!0):(_n[it-re]=w+1,it>=vi?vi=it:Qt=!0,T(He,p[it],b,null,S,M,L,O,I),Re++)}const xi=Qt?Rf(_n):sn;for(me=xi.length-1,w=Ye-1;w>=0;w--){const He=re+w,it=p[He],Ci=He+1<F?p[He+1].el:R;_n[w]===0?T(null,it,b,Ci,S,M,L,O,I):Qt&&(me<0||w!==xi[me]?Q(it,b,Ci,2):me--)}}},Q=(d,p,b,R,S=null)=>{const{el:M,type:L,transition:O,children:I,shapeFlag:w}=d;if(w&6){Q(d.component.subTree,p,b,R);return}if(w&128){d.suspense.move(p,b,R);return}if(w&64){L.move(d,p,b,K);return}if(L===bt){r(M,p,b);for(let J=0;J<I.length;J++)Q(I[J],p,b,R);r(d.anchor,p,b);return}if(L===cr){D(d,p,b);return}if(R!==2&&w&1&&O)if(R===0)O.beforeEnter(M),r(M,p,b),Be(()=>O.enter(M),S);else{const{leave:J,delayLeave:G,afterLeave:ee}=O,re=()=>r(M,p,b),ue=()=>{J(M,()=>{re(),ee&&ee()})};G?G(M,re,ue):ue()}else r(M,p,b)},X=(d,p,b,R=!1,S=!1)=>{const{type:M,props:L,ref:O,children:I,dynamicChildren:w,shapeFlag:F,patchFlag:J,dirs:G}=d;if(O!=null&&vs(O,null,b,d,!0),F&256){p.ctx.deactivate(d);return}const ee=F&1&&G,re=!or(d);let ue;if(re&&(ue=L&&L.onVnodeBeforeUnmount)&&ot(ue,p,d),F&6)qn(d.component,b,R);else{if(F&128){d.suspense.unmount(b,R);return}ee&&At(d,null,p,"beforeUnmount"),F&64?d.type.remove(d,p,b,S,K,R):w&&(M!==bt||J>0&&J&64)?Me(w,p,b,!1,!0):(M===bt&&J&384||!S&&F&16)&&Me(I,p,b),R&&gt(d)}(re&&(ue=L&&L.onVnodeUnmounted)||ee)&&Be(()=>{ue&&ot(ue,p,d),ee&&At(d,null,p,"unmounted")},b)},gt=d=>{const{type:p,el:b,anchor:R,transition:S}=d;if(p===bt){Yt(b,R);return}if(p===cr){oe(d);return}const M=()=>{s(b),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(d.shapeFlag&1&&S&&!S.persisted){const{leave:L,delayLeave:O}=S,I=()=>L(b,M);O?O(d.el,M,I):I()}else M()},Yt=(d,p)=>{let b;for(;d!==p;)b=h(d),s(d),d=b;s(p)},qn=(d,p,b)=>{const{bum:R,scope:S,update:M,subTree:L,um:O}=d;R&&rr(R),S.stop(),M&&(M.active=!1,X(L,d,p,b)),O&&Be(O,p),Be(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Me=(d,p,b,R=!1,S=!1,M=0)=>{for(let L=M;L<d.length;L++)X(d[L],p,b,R,S)},k=d=>d.shapeFlag&6?k(d.component.subTree):d.shapeFlag&128?d.suspense.next():h(d.anchor||d.el);let U=!1;const j=(d,p,b)=>{d==null?p._vnode&&X(p._vnode,null,null,!0):T(p._vnode||null,d,p,null,null,null,b),U||(U=!0,Mi(),ya(),U=!1),p._vnode=d},K={p:T,um:X,m:Q,r:gt,mt:$,mc:xe,pc:A,pbc:Oe,n:k,o:e};let le,ge;return t&&([le,ge]=t(K)),{render:j,hydrate:le,createApp:mf(j,le)}}function Qr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Dt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function kf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ja(e,t,n=!1){const r=e.children,s=t.children;if(te(r)&&te(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Et(s[i]),a.el=o.el),n||ja(o,a)),a.type===Ur&&(a.el=o.el)}}function Rf(e){const t=e.slice(),n=[0];let r,s,i,o,a;const c=e.length;for(r=0;r<c;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<f?i=a+1:o=a;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function La(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:La(t)}const Tf=e=>e.__isTeleport,bt=Symbol.for("v-fgt"),Ur=Symbol.for("v-txt"),Ln=Symbol.for("v-cmt"),cr=Symbol.for("v-stc"),Pn=[];let et=null;function yt(e=!1){Pn.push(et=e?null:[])}function Ef(){Pn.pop(),et=Pn[Pn.length-1]||null}let $n=1;function Vi(e){$n+=e}function $a(e){return e.dynamicChildren=$n>0?et||sn:null,Ef(),$n>0&&et&&et.push(e),e}function Rt(e,t,n,r,s,i){return $a(H(e,t,n,r,s,i,!0))}function Pf(e,t,n,r,s){return $a(Ge(e,t,n,r,s,!0))}function xs(e){return e?e.__v_isVNode===!0:!1}function vn(e,t){return e.type===t.type&&e.key===t.key}const Fr="__vInternal",Ba=({key:e})=>e??null,lr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||ze(e)||ne(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function H(e,t=null,n=null,r=0,s=null,i=e===bt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ba(t),ref:t&&lr(t),scopeId:va,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ne};return a?(li(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Pe(n)?8:16),$n>0&&!o&&et&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&et.push(c),c}const Ge=wf;function wf(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Hl)&&(e=Ln),xs(e)){const a=dn(e,t,!0);return n&&li(a,n),$n>0&&!i&&et&&(a.shapeFlag&6?et[et.indexOf(e)]=a:et.push(a)),a.patchFlag|=-2,a}if(Ff(e)&&(e=e.__vccOpts),t){t=Of(t);let{class:a,style:c}=t;a&&!Pe(a)&&(t.class=Ys(a)),ye(c)&&(ca(c)&&!te(c)&&(c=we({},c)),t.style=Ws(c))}const o=Pe(e)?1:Gl(e)?128:Tf(e)?64:ye(e)?4:ne(e)?2:0;return H(e,t,n,r,s,o,i,!0)}function Of(e){return e?ca(e)||Fr in e?we({},e):e:null}function dn(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?Mf(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ba(a),ref:t&&t.ref?n&&s?te(s)?s.concat(lr(t)):[s,lr(t)]:lr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==bt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Vt(e=" ",t=0){return Ge(Ur,null,e,t)}function Nr(e,t){const n=Ge(cr,null,e);return n.staticCount=t,n}function lt(e){return e==null||typeof e=="boolean"?Ge(Ln):te(e)?Ge(bt,null,e.slice()):typeof e=="object"?Et(e):Ge(Ur,null,String(e))}function Et(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function li(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(te(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),li(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Fr in t)?t._ctx=Ne:s===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),r&64?(n=16,t=[Vt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Mf(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ys([t.class,r.class]));else if(s==="style")t.style=Ws([t.style,r.style]);else if(Or(s)){const i=t[s],o=r[s];o&&i!==o&&!(te(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function ot(e,t,n,r=null){tt(e,t,7,[n,r])}const If=wa();let Af=0;function Df(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||If,i={uid:Af++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ma(r,s),emitsOptions:ba(r,s),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:r.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=$l.bind(null,i),e.ce&&e.ce(i),i}let Ae=null,kr,Cs;{const e=Ko(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};kr=t("__VUE_INSTANCE_SETTERS__",n=>Ae=n),Cs=t("__VUE_SSR_SETTERS__",n=>Vr=n)}const Kn=e=>{const t=Ae;return kr(e),e.scope.on(),()=>{e.scope.off(),kr(t)}},zi=()=>{Ae&&Ae.scope.off(),kr(null)};function Ua(e){return e.vnode.shapeFlag&4}let Vr=!1;function jf(e,t=!1){t&&Cs(t);const{props:n,children:r}=e.vnode,s=Ua(e);yf(e,n,s,t),vf(e,r);const i=s?Lf(e,t):void 0;return t&&Cs(!1),i}function Lf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=la(new Proxy(e.ctx,lf));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Bf(e):null,i=Kn(e);Kt();const o=Mt(r,e,0,[e.props,s]);if(Gt(),i(),Vo(o)){if(o.then(zi,zi),t)return o.then(a=>{Hi(e,a,t)}).catch(a=>{Lr(a,e,0)});e.asyncDep=o}else Hi(e,o,t)}else Fa(e,t)}function Hi(e,t,n){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=ha(t)),Fa(e,n)}let Ki;function Fa(e,t,n){const r=e.type;if(!e.render){if(!t&&Ki&&!r.render){const s=r.template||ai(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=r,f=we(we({isCustomElement:i,delimiters:a},o),c);r.render=Ki(s,f)}}e.render=r.render||Je}{const s=Kn(e);Kt();try{ff(e)}finally{Gt(),s()}}}function $f(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ve(e,"get","$attrs"),t[n]}}))}function Bf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return $f(e)},slots:e.slots,emit:e.emit,expose:t}}function zr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ha(la(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in En)return En[n](e)},has(t,n){return n in t||n in En}}))}function Uf(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Ff(e){return ne(e)&&"__vccOpts"in e}const Xe=(e,t)=>Pl(e,t,Vr);function Na(e,t,n){const r=arguments.length;return r===2?ye(t)&&!te(t)?xs(t)?Ge(e,null,[t]):Ge(e,t):Ge(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xs(n)&&(n=[n]),Ge(e,t,n))}const Nf="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Vf="http://www.w3.org/2000/svg",zf="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Gi=Pt&&Pt.createElement("template"),Hf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Pt.createElementNS(Vf,e):t==="mathml"?Pt.createElementNS(zf,e):Pt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Gi.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=Gi.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Kf=Symbol("_vtc");function Gf(e,t,n){const r=e[Kf];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const fi=Symbol("_vod"),Ss={beforeMount(e,{value:t},{transition:n}){e[fi]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):xn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),xn(e,!0),r.enter(e)):r.leave(e,()=>{xn(e,!1)}):xn(e,t))},beforeUnmount(e,{value:t}){xn(e,t)}};function xn(e,t){e.style.display=t?e[fi]:"none"}const qf=Symbol("");function Jf(e,t,n){const r=e.style,s=r.display,i=Pe(n);if(n&&!i){if(t&&!Pe(t))for(const o in t)n[o]==null&&ks(r,o,"");for(const o in n)ks(r,o,n[o])}else if(i){if(t!==n){const o=r[qf];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");fi in e&&(r.display=s)}const qi=/\s*!important$/;function ks(e,t,n){if(te(n))n.forEach(r=>ks(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Wf(e,t);qi.test(n)?e.setProperty(yn(r),n.replace(qi,""),"important"):e[r]=n}}const Ji=["Webkit","Moz","ms"],Xr={};function Wf(e,t){const n=Xr[t];if(n)return n;let r=pt(t);if(r!=="filter"&&r in e)return Xr[t]=r;r=Ar(r);for(let s=0;s<Ji.length;s++){const i=Ji[s]+r;if(i in e)return Xr[t]=i}return t}const Wi="http://www.w3.org/1999/xlink";function Yf(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Wi,t.slice(6,t.length)):e.setAttributeNS(Wi,t,n);else{const i=il(t);n==null||i&&!Go(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Qf(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const f=a==="OPTION"?e.getAttribute("value"):e.value,l=n??"";f!==l&&(e.value=l),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=Go(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function tn(e,t,n,r){e.addEventListener(t,n,r)}function Xf(e,t,n,r){e.removeEventListener(t,n,r)}const Yi=Symbol("_vei");function Zf(e,t,n,r,s=null){const i=e[Yi]||(e[Yi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,c]=eu(t);if(r){const f=i[t]=ru(r,s);tn(e,a,f,c)}else o&&(Xf(e,a,o,c),i[t]=void 0)}}const Qi=/(?:Once|Passive|Capture)$/;function eu(e){let t;if(Qi.test(e)){t={};let r;for(;r=e.match(Qi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yn(e.slice(2)),t]}let Zr=0;const tu=Promise.resolve(),nu=()=>Zr||(tu.then(()=>Zr=0),Zr=Date.now());function ru(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;tt(su(r,n.value),t,5,[r])};return n.value=e,n.attached=nu(),n}function su(e,t){if(te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Xi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,iu=(e,t,n,r,s,i,o,a,c)=>{const f=s==="svg";t==="class"?Gf(e,r,f):t==="style"?Jf(e,n,r):Or(t)?Gs(t)||Zf(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ou(e,t,r,f))?Qf(e,t,r,i,o,a,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Yf(e,t,r,f))};function ou(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xi(t)&&ne(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Xi(t)&&Pe(n)?!1:t in e}const Zi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?n=>rr(t,n):t};function au(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const es=Symbol("_assign"),to={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[es]=Zi(s);const i=r||s.props&&s.props.type==="number";tn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=fs(a)),e[es](a)}),n&&tn(e,"change",()=>{e.value=e.value.trim()}),t||(tn(e,"compositionstart",au),tn(e,"compositionend",eo),tn(e,"change",eo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[es]=Zi(i),e.composing)return;const o=s||e.type==="number"?fs(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===a)||(e.value=a))}},cu=we({patchProp:iu},Hf);let no;function lu(){return no||(no=Cf(cu))}const fu=(...e)=>{const t=lu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=du(r);if(!s)return;const i=t._component;!ne(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,uu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function uu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function du(e){return Pe(e)?document.querySelector(e):e}const hu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},pu={};function gu(e,t){const n=zl("router-view");return yt(),Pf(n)}const mu=hu(pu,[["render",gu]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const nn=typeof window<"u";function yu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const fe=Object.assign;function ts(e,t){const n={};for(const r in t){const s=t[r];n[r]=nt(s)?s.map(e):e(s)}return n}const wn=()=>{},nt=Array.isArray,_u=/\/$/,bu=e=>e.replace(_u,"");function ns(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Su(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function vu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ro(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xu(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hn(t.matched[r],n.matched[s])&&Va(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Va(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Cu(e[n],t[n]))return!1;return!0}function Cu(e,t){return nt(e)?so(e,t):nt(t)?so(t,e):e===t}function so(e,t){return nt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Su(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Bn;(function(e){e.pop="pop",e.push="push"})(Bn||(Bn={}));var On;(function(e){e.back="back",e.forward="forward",e.unknown=""})(On||(On={}));function ku(e){if(!e)if(nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),bu(e)}const Ru=/^[^#]+#/;function Tu(e,t){return e.replace(Ru,"#")+t}function Eu(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Hr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Pu(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Eu(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function io(e,t){return(history.state?history.state.position-t:-1)+e}const Rs=new Map;function wu(e,t){Rs.set(e,t)}function Ou(e){const t=Rs.get(e);return Rs.delete(e),t}let Mu=()=>location.protocol+"//"+location.host;function za(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),ro(c,"")}return ro(n,e)+r+s}function Iu(e,t,n,r){let s=[],i=[],o=null;const a=({state:h})=>{const _=za(e,location),x=n.value,T=t.value;let B=0;if(h){if(n.value=_,t.value=h,o&&o===x){o=null;return}B=T?h.position-T.position:0}else r(_);s.forEach(z=>{z(n.value,x,{delta:B,type:Bn.pop,direction:B?B>0?On.forward:On.back:On.unknown})})};function c(){o=n.value}function f(h){s.push(h);const _=()=>{const x=s.indexOf(h);x>-1&&s.splice(x,1)};return i.push(_),_}function l(){const{history:h}=window;h.state&&h.replaceState(fe({},h.state,{scroll:Hr()}),"")}function u(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function oo(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Hr():null}}function Au(e){const{history:t,location:n}=window,r={value:za(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,f,l){const u=e.indexOf("#"),h=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:Mu()+e+c;try{t[l?"replaceState":"pushState"](f,"",h),s.value=f}catch(_){console.error(_),n[l?"replace":"assign"](h)}}function o(c,f){const l=fe({},t.state,oo(s.value.back,c,s.value.forward,!0),f,{position:s.value.position});i(c,l,!0),r.value=c}function a(c,f){const l=fe({},s.value,t.state,{forward:c,scroll:Hr()});i(l.current,l,!0);const u=fe({},oo(r.value,c,null),{position:l.position+1},f);i(c,u,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function Du(e){e=ku(e);const t=Au(e),n=Iu(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=fe({location:"",base:e,go:r,createHref:Tu.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function ju(e){return typeof e=="string"||e&&typeof e=="object"}function Ha(e){return typeof e=="string"||typeof e=="symbol"}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ka=Symbol("");var ao;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ao||(ao={}));function pn(e,t){return fe(new Error,{type:e,[Ka]:!0},t)}function mt(e,t){return e instanceof Error&&Ka in e&&(t==null||!!(e.type&t))}const co="[^/]+?",Lu={sensitive:!1,strict:!1,start:!0,end:!0},$u=/[.+*?^${}()[\]/\\]/g;function Bu(e,t){const n=fe({},Lu,t),r=[];let s=n.start?"^":"";const i=[];for(const f of e){const l=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let u=0;u<f.length;u++){const h=f[u];let _=40+(n.sensitive?.25:0);if(h.type===0)u||(s+="/"),s+=h.value.replace($u,"\\$&"),_+=40;else if(h.type===1){const{value:x,repeatable:T,optional:B,regexp:z}=h;i.push({name:x,repeatable:T,optional:B});const Z=z||co;if(Z!==co){_+=10;try{new RegExp(`(${Z})`)}catch(oe){throw new Error(`Invalid custom RegExp for param "${x}" (${Z}): `+oe.message)}}let D=T?`((?:${Z})(?:/(?:${Z}))*)`:`(${Z})`;u||(D=B&&f.length<2?`(?:/${D})`:"/"+D),B&&(D+="?"),s+=D,_+=20,B&&(_+=-8),T&&(_+=-20),Z===".*"&&(_+=-50)}l.push(_)}r.push(l)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(f){const l=f.match(o),u={};if(!l)return null;for(let h=1;h<l.length;h++){const _=l[h]||"",x=i[h-1];u[x.name]=_&&x.repeatable?_.split("/"):_}return u}function c(f){let l="",u=!1;for(const h of e){(!u||!l.endsWith("/"))&&(l+="/"),u=!1;for(const _ of h)if(_.type===0)l+=_.value;else if(_.type===1){const{value:x,repeatable:T,optional:B}=_,z=x in f?f[x]:"";if(nt(z)&&!T)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const Z=nt(z)?z.join("/"):z;if(!Z)if(B)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):u=!0);else throw new Error(`Missing required param "${x}"`);l+=Z}}return l||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function Uu(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fu(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Uu(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(lo(r))return 1;if(lo(s))return-1}return s.length-r.length}function lo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Nu={type:0,value:""},Vu=/[a-zA-Z0-9_]/;function zu(e){if(!e)return[[]];if(e==="/")return[[Nu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${f}": ${_}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,f="",l="";function u(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&u(),o()):c===":"?(u(),n=1):h();break;case 4:h(),n=r;break;case 1:c==="("?n=2:Vu.test(c)?h():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),o(),s}function Hu(e,t,n){const r=Bu(zu(e.path),n),s=fe(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Ku(e,t){const n=[],r=new Map;t=ho({strict:!1,end:!0,sensitive:!1},t);function s(l){return r.get(l)}function i(l,u,h){const _=!h,x=Gu(l);x.aliasOf=h&&h.record;const T=ho(t,l),B=[x];if("alias"in l){const D=typeof l.alias=="string"?[l.alias]:l.alias;for(const oe of D)B.push(fe({},x,{components:h?h.record.components:x.components,path:oe,aliasOf:h?h.record:x}))}let z,Z;for(const D of B){const{path:oe}=D;if(u&&oe[0]!=="/"){const de=u.record.path,W=de[de.length-1]==="/"?"":"/";D.path=u.record.path+(oe&&W+oe)}if(z=Hu(D,u,T),h?h.alias.push(z):(Z=Z||z,Z!==z&&Z.alias.push(z),_&&l.name&&!uo(z)&&o(l.name)),x.children){const de=x.children;for(let W=0;W<de.length;W++)i(de[W],z,h&&h.children[W])}h=h||z,(z.record.components&&Object.keys(z.record.components).length||z.record.name||z.record.redirect)&&c(z)}return Z?()=>{o(Z)}:wn}function o(l){if(Ha(l)){const u=r.get(l);u&&(r.delete(l),n.splice(n.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=n.indexOf(l);u>-1&&(n.splice(u,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let u=0;for(;u<n.length&&Fu(l,n[u])>=0&&(l.record.path!==n[u].record.path||!Ga(l,n[u]));)u++;n.splice(u,0,l),l.record.name&&!uo(l)&&r.set(l.record.name,l)}function f(l,u){let h,_={},x,T;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw pn(1,{location:l});T=h.record.name,_=fe(fo(u.params,h.keys.filter(Z=>!Z.optional).map(Z=>Z.name)),l.params&&fo(l.params,h.keys.map(Z=>Z.name))),x=h.stringify(_)}else if("path"in l)x=l.path,h=n.find(Z=>Z.re.test(x)),h&&(_=h.parse(x),T=h.record.name);else{if(h=u.name?r.get(u.name):n.find(Z=>Z.re.test(u.path)),!h)throw pn(1,{location:l,currentLocation:u});T=h.record.name,_=fe({},u.params,l.params),x=h.stringify(_)}const B=[];let z=h;for(;z;)B.unshift(z.record),z=z.parent;return{name:T,path:x,params:_,matched:B,meta:Ju(B)}}return e.forEach(l=>i(l)),{addRoute:i,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function fo(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Gu(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:qu(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function qu(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function uo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ju(e){return e.reduce((t,n)=>fe(t,n.meta),{})}function ho(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ga(e,t){return t.children.some(n=>n===e||Ga(e,n))}const qa=/#/g,Wu=/&/g,Yu=/\//g,Qu=/=/g,Xu=/\?/g,Ja=/\+/g,Zu=/%5B/g,ed=/%5D/g,Wa=/%5E/g,td=/%60/g,Ya=/%7B/g,nd=/%7C/g,Qa=/%7D/g,rd=/%20/g;function ui(e){return encodeURI(""+e).replace(nd,"|").replace(Zu,"[").replace(ed,"]")}function sd(e){return ui(e).replace(Ya,"{").replace(Qa,"}").replace(Wa,"^")}function Ts(e){return ui(e).replace(Ja,"%2B").replace(rd,"+").replace(qa,"%23").replace(Wu,"%26").replace(td,"`").replace(Ya,"{").replace(Qa,"}").replace(Wa,"^")}function id(e){return Ts(e).replace(Qu,"%3D")}function od(e){return ui(e).replace(qa,"%23").replace(Xu,"%3F")}function ad(e){return e==null?"":od(e).replace(Yu,"%2F")}function Rr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function cd(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ja," "),o=i.indexOf("="),a=Rr(o<0?i:i.slice(0,o)),c=o<0?null:Rr(i.slice(o+1));if(a in t){let f=t[a];nt(f)||(f=t[a]=[f]),f.push(c)}else t[a]=c}return t}function po(e){let t="";for(let n in e){const r=e[n];if(n=id(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nt(r)?r.map(i=>i&&Ts(i)):[r&&Ts(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ld(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const fd=Symbol(""),go=Symbol(""),Kr=Symbol(""),Xa=Symbol(""),Es=Symbol("");function Cn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function wt(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=u=>{u===!1?a(pn(4,{from:n,to:t})):u instanceof Error?a(u):ju(u)?a(pn(2,{from:t,to:u})):(i&&r.enterCallbacks[s]===i&&typeof u=="function"&&i.push(u),o())},f=e.call(r&&r.instances[s],t,n,c);let l=Promise.resolve(f);e.length<3&&(l=l.then(c)),l.catch(u=>a(u))})}function rs(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(ud(a)){const f=(a.__vccOpts||a)[t];f&&s.push(wt(f,n,r,i,o))}else{let c=a();s.push(()=>c.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const l=yu(f)?f.default:f;i.components[o]=l;const h=(l.__vccOpts||l)[t];return h&&wt(h,n,r,i,o)()}))}}return s}function ud(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mo(e){const t=dt(Kr),n=dt(Xa),r=Xe(()=>t.resolve(Nt(e.to))),s=Xe(()=>{const{matched:c}=r.value,{length:f}=c,l=c[f-1],u=n.matched;if(!l||!u.length)return-1;const h=u.findIndex(hn.bind(null,l));if(h>-1)return h;const _=yo(c[f-2]);return f>1&&yo(l)===_&&u[u.length-1].path!==_?u.findIndex(hn.bind(null,c[f-2])):h}),i=Xe(()=>s.value>-1&&gd(n.params,r.value.params)),o=Xe(()=>s.value>-1&&s.value===n.matched.length-1&&Va(n.params,r.value.params));function a(c={}){return pd(c)?t[Nt(e.replace)?"replace":"push"](Nt(e.to)).catch(wn):Promise.resolve()}return{route:r,href:Xe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const dd=ka({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mo,setup(e,{slots:t}){const n=jr(mo(e)),{options:r}=dt(Kr),s=Xe(()=>({[_o(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_o(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Na("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),hd=dd;function pd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gd(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!nt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function yo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _o=(e,t,n)=>e??t??n,md=ka({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=dt(Es),s=Xe(()=>e.route||r.value),i=dt(go,0),o=Xe(()=>{let f=Nt(i);const{matched:l}=s.value;let u;for(;(u=l[f])&&!u.components;)f++;return f}),a=Xe(()=>s.value.matched[o.value]);ar(go,Xe(()=>o.value+1)),ar(fd,a),ar(Es,s);const c=_t();return ir(()=>[c.value,a.value,e.name],([f,l,u],[h,_,x])=>{l&&(l.instances[u]=f,_&&_!==l&&f&&f===h&&(l.leaveGuards.size||(l.leaveGuards=_.leaveGuards),l.updateGuards.size||(l.updateGuards=_.updateGuards))),f&&l&&(!_||!hn(l,_)||!h)&&(l.enterCallbacks[u]||[]).forEach(T=>T(f))},{flush:"post"}),()=>{const f=s.value,l=e.name,u=a.value,h=u&&u.components[l];if(!h)return bo(n.default,{Component:h,route:f});const _=u.props[l],x=_?_===!0?f.params:typeof _=="function"?_(f):_:null,B=Na(h,fe({},x,t,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(u.instances[l]=null)},ref:c}));return bo(n.default,{Component:B,route:f})||B}}});function bo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const yd=md;function _d(e){const t=Ku(e.routes,e),n=e.parseQuery||cd,r=e.stringifyQuery||po,s=e.history,i=Cn(),o=Cn(),a=Cn(),c=wl(St);let f=St;nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=ts.bind(null,k=>""+k),u=ts.bind(null,ad),h=ts.bind(null,Rr);function _(k,U){let j,K;return Ha(k)?(j=t.getRecordMatcher(k),K=U):K=k,t.addRoute(K,j)}function x(k){const U=t.getRecordMatcher(k);U&&t.removeRoute(U)}function T(){return t.getRoutes().map(k=>k.record)}function B(k){return!!t.getRecordMatcher(k)}function z(k,U){if(U=fe({},U||c.value),typeof k=="string"){const p=ns(n,k,U.path),b=t.resolve({path:p.path},U),R=s.createHref(p.fullPath);return fe(p,b,{params:h(b.params),hash:Rr(p.hash),redirectedFrom:void 0,href:R})}let j;if("path"in k)j=fe({},k,{path:ns(n,k.path,U.path).path});else{const p=fe({},k.params);for(const b in p)p[b]==null&&delete p[b];j=fe({},k,{params:u(p)}),U.params=u(U.params)}const K=t.resolve(j,U),le=k.hash||"";K.params=l(h(K.params));const ge=vu(r,fe({},k,{hash:sd(le),path:K.path})),d=s.createHref(ge);return fe({fullPath:ge,hash:le,query:r===po?ld(k.query):k.query||{}},K,{redirectedFrom:void 0,href:d})}function Z(k){return typeof k=="string"?ns(n,k,c.value.path):fe({},k)}function D(k,U){if(f!==k)return pn(8,{from:U,to:k})}function oe(k){return ke(k)}function de(k){return oe(fe(Z(k),{replace:!0}))}function W(k){const U=k.matched[k.matched.length-1];if(U&&U.redirect){const{redirect:j}=U;let K=typeof j=="function"?j(k):j;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=Z(K):{path:K},K.params={}),fe({query:k.query,hash:k.hash,params:"path"in K?{}:k.params},K)}}function ke(k,U){const j=f=z(k),K=c.value,le=k.state,ge=k.force,d=k.replace===!0,p=W(j);if(p)return ke(fe(Z(p),{state:typeof p=="object"?fe({},le,p.state):le,force:ge,replace:d}),U||j);const b=j;b.redirectedFrom=U;let R;return!ge&&xu(r,K,j)&&(R=pn(16,{to:b,from:K}),Q(K,K,!0,!1)),(R?Promise.resolve(R):Oe(b,K)).catch(S=>mt(S)?mt(S,2)?S:Y(S):A(S,b,K)).then(S=>{if(S){if(mt(S,2))return ke(fe({replace:d},Z(S.to),{state:typeof S.to=="object"?fe({},le,S.to.state):le,force:ge}),U||b)}else S=st(b,K,!0,d,le);return We(b,K,S),S})}function xe(k,U){const j=D(k,U);return j?Promise.reject(j):Promise.resolve()}function rt(k){const U=Yt.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(k):k()}function Oe(k,U){let j;const[K,le,ge]=bd(k,U);j=rs(K.reverse(),"beforeRouteLeave",k,U);for(const p of K)p.leaveGuards.forEach(b=>{j.push(wt(b,k,U))});const d=xe.bind(null,k,U);return j.push(d),Me(j).then(()=>{j=[];for(const p of i.list())j.push(wt(p,k,U));return j.push(d),Me(j)}).then(()=>{j=rs(le,"beforeRouteUpdate",k,U);for(const p of le)p.updateGuards.forEach(b=>{j.push(wt(b,k,U))});return j.push(d),Me(j)}).then(()=>{j=[];for(const p of ge)if(p.beforeEnter)if(nt(p.beforeEnter))for(const b of p.beforeEnter)j.push(wt(b,k,U));else j.push(wt(p.beforeEnter,k,U));return j.push(d),Me(j)}).then(()=>(k.matched.forEach(p=>p.enterCallbacks={}),j=rs(ge,"beforeRouteEnter",k,U),j.push(d),Me(j))).then(()=>{j=[];for(const p of o.list())j.push(wt(p,k,U));return j.push(d),Me(j)}).catch(p=>mt(p,8)?p:Promise.reject(p))}function We(k,U,j){a.list().forEach(K=>rt(()=>K(k,U,j)))}function st(k,U,j,K,le){const ge=D(k,U);if(ge)return ge;const d=U===St,p=nn?history.state:{};j&&(K||d?s.replace(k.fullPath,fe({scroll:d&&p&&p.scroll},le)):s.push(k.fullPath,le)),c.value=k,Q(k,U,j,d),Y()}let m;function $(){m||(m=s.listen((k,U,j)=>{if(!qn.listening)return;const K=z(k),le=W(K);if(le){ke(fe(le,{replace:!0}),K).catch(wn);return}f=K;const ge=c.value;nn&&wu(io(ge.fullPath,j.delta),Hr()),Oe(K,ge).catch(d=>mt(d,12)?d:mt(d,2)?(ke(d.to,K).then(p=>{mt(p,20)&&!j.delta&&j.type===Bn.pop&&s.go(-1,!1)}).catch(wn),Promise.reject()):(j.delta&&s.go(-j.delta,!1),A(d,K,ge))).then(d=>{d=d||st(K,ge,!1),d&&(j.delta&&!mt(d,8)?s.go(-j.delta,!1):j.type===Bn.pop&&mt(d,20)&&s.go(-1,!1)),We(K,ge,d)}).catch(wn)}))}let P=Cn(),E=Cn(),v;function A(k,U,j){Y(k);const K=E.list();return K.length?K.forEach(le=>le(k,U,j)):console.error(k),Promise.reject(k)}function q(){return v&&c.value!==St?Promise.resolve():new Promise((k,U)=>{P.add([k,U])})}function Y(k){return v||(v=!k,$(),P.list().forEach(([U,j])=>k?j(k):U()),P.reset()),k}function Q(k,U,j,K){const{scrollBehavior:le}=e;if(!nn||!le)return Promise.resolve();const ge=!j&&Ou(io(k.fullPath,0))||(K||!j)&&history.state&&history.state.scroll||null;return ga().then(()=>le(k,U,ge)).then(d=>d&&Pu(d)).catch(d=>A(d,k,U))}const X=k=>s.go(k);let gt;const Yt=new Set,qn={currentRoute:c,listening:!0,addRoute:_,removeRoute:x,hasRoute:B,getRoutes:T,resolve:z,options:e,push:oe,replace:de,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:E.add,isReady:q,install(k){const U=this;k.component("RouterLink",hd),k.component("RouterView",yd),k.config.globalProperties.$router=U,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Nt(c)}),nn&&!gt&&c.value===St&&(gt=!0,oe(s.location).catch(le=>{}));const j={};for(const le in St)Object.defineProperty(j,le,{get:()=>c.value[le],enumerable:!0});k.provide(Kr,U),k.provide(Xa,oa(j)),k.provide(Es,c);const K=k.unmount;Yt.add(k),k.unmount=function(){Yt.delete(k),Yt.size<1&&(f=St,m&&m(),m=null,c.value=St,gt=!1,v=!1),K()}}};function Me(k){return k.reduce((U,j)=>U.then(()=>rt(j)),Promise.resolve())}return qn}function bd(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(f=>hn(f,a))?r.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(f=>hn(f,c))||s.push(c))}return[n,r,s]}function vd(){return dt(Kr)}class xd{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return Cd(t).buffer}}function Cd(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function Za(e){return new Sd(e).unpack()}function ec(e){const t=new kd,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class Sd{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",i,o;for(;r<t;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,o=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class kd{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(t[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,c=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(t.hasOwnProperty(o)){this.pack(o);const a=this.pack(t[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new xd,this._textEncoder=new TextEncoder}}let tc=!0,nc=!0;function fr(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function qt(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==t)return s.apply(this,arguments);const c=f=>{const l=n(f);l&&(a.handleEvent?a.handleEvent(l):a(l))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(a))return i.apply(this,arguments);const c=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function Rd(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(tc=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Td(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(nc=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function rc(){if(typeof window=="object"){if(tc)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function di(e,t){nc&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Ed(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=fr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=fr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=fr(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function vo(e){return Object.prototype.toString.call(e)==="[object Object]"}function sc(e){return vo(e)?Object.keys(e).reduce(function(t,n){const r=vo(e[n]),s=r?sc(e[n]):e[n],i=r&&!Object.keys(s).length;return s===void 0||i?t:Object.assign(t,{[n]:s})},{}):e}function Ps(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Ps(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{Ps(e,e.get(s),n)})}))}function xo(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const i=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&i.push(o)}),i.forEach(o=>{e.forEach(a=>{a.type===r&&a.trackId===o.id&&Ps(e,a,s)})}),s}const Co=rc;function ic(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(f=>{if(f==="require"||f==="advanced"||f==="mediaSource")return;const l=typeof a[f]=="object"?a[f]:{ideal:a[f]};l.exact!==void 0&&typeof l.exact=="number"&&(l.min=l.max=l.exact);const u=function(h,_){return h?h+_.charAt(0).toUpperCase()+_.slice(1):_==="deviceId"?"sourceId":_};if(l.ideal!==void 0){c.optional=c.optional||[];let h={};typeof l.ideal=="number"?(h[u("min",f)]=l.ideal,c.optional.push(h),h={},h[u("max",f)]=l.ideal,c.optional.push(h)):(h[u("",f)]=l.ideal,c.optional.push(h))}l.exact!==void 0&&typeof l.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[u("",f)]=l.exact):["min","max"].forEach(h=>{l[h]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[u(h,f)]=l[h])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(t.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const f=function(l,u,h){u in l&&!(h in l)&&(l[h]=l[u],delete l[u])};a=JSON.parse(JSON.stringify(a)),f(a.audio,"autoGainControl","googAutoGainControl"),f(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let f=a.video.facingMode;f=f&&(typeof f=="object"?f:{ideal:f});const l=t.version<66;if(f&&(f.exact==="user"||f.exact==="environment"||f.ideal==="user"||f.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!l)){delete a.video.facingMode;let u;if(f.exact==="environment"||f.ideal==="environment"?u=["back","rear"]:(f.exact==="user"||f.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(x=>x.kind==="videoinput");let _=h.find(x=>u.some(T=>x.label.toLowerCase().includes(T)));return!_&&h.length&&u.includes("back")&&(_=h[h.length-1]),_&&(a.video.deviceId=f.exact?{exact:_.deviceId}:{ideal:_.deviceId}),a.video=r(a.video),Co("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return Co("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,f){s(a,l=>{n.webkitGetUserMedia(l,c,u=>{f&&f(i(u))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,f=>a(f).then(l=>{if(f.audio&&!l.getAudioTracks().length||f.video&&!l.getVideoTracks().length)throw l.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return l},l=>Promise.reject(i(l))))}}}function Pd(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(s=>{const i=r.video&&r.video.width,o=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,maxFrameRate:a||3}},i&&(r.video.mandatory.maxWidth=i),o&&(r.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(r)})}}}function oc(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ac(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else qt(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function cc(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,c){let f=s.apply(this,arguments);return f||(f=t(this,a),this._senders.push(f)),f};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function lc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[r,s,i]=arguments;if(arguments.length>0&&typeof r=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof r!="function"))return t.apply(this,[]);const o=function(c){const f={};return c.result().forEach(u=>{const h={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(_=>{h[_]=u.stat(_)}),f[h.id]=h}),f},a=function(c){return new Map(Object.keys(c).map(f=>[f,c[f]]))};if(arguments.length>=2){const c=function(f){s(a(o(f)))};return t.apply(this,[c,r])}return new Promise((c,f)=>{t.apply(this,[function(l){c(a(o(l)))},f])}).then(s,i)}}function fc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>xo(o,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),qt(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>xo(i,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function uc(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(f=>{if(this.getSenders().find(u=>u.track===f))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(f=>a.indexOf(f)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function dc(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return uc(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(u=>this._reverseStreams[u.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(u=>{if(this.getSenders().find(_=>_.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const u=new e.MediaStream(l.getTracks());this._streams[l.id]=u,this._reverseStreams[u.id]=l,l=u}r.apply(this,[l])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},e.RTCPeerConnection.prototype.addTrack=function(l,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(T=>T===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(T=>T.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[u.id];if(x)x.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const T=new e.MediaStream([l]);this._streams[u.id]=T,this._reverseStreams[T.id]=u,this.addStream(T)}return this.getSenders().find(T=>T.track===l)};function i(f,l){let u=l.sdp;return Object.keys(f._reverseStreams||[]).forEach(h=>{const _=f._reverseStreams[h],x=f._streams[_.id];u=u.replace(new RegExp(x.id,"g"),_.id)}),new RTCSessionDescription({type:l.type,sdp:u})}function o(f,l){let u=l.sdp;return Object.keys(f._reverseStreams||[]).forEach(h=>{const _=f._reverseStreams[h],x=f._streams[_.id];u=u.replace(new RegExp(_.id,"g"),x.id)}),new RTCSessionDescription({type:l.type,sdp:u})}["createOffer","createAnswer"].forEach(function(f){const l=e.RTCPeerConnection.prototype[f],u={[f](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?l.apply(this,[x=>{const T=i(this,x);h[0].apply(null,[T])},x=>{h[1]&&h[1].apply(null,x)},arguments[2]]):l.apply(this,arguments).then(x=>i(this,x))}};e.RTCPeerConnection.prototype[f]=u[f]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const f=c.get.apply(this);return f.type===""?f:i(this,f)}}),e.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(l._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(_=>{this._streams[_].getTracks().find(T=>l.track===T)&&(h=this._streams[_])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ws(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function hc(e,t){qt(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const So=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:hc,shimAddTrackRemoveTrack:dc,shimAddTrackRemoveTrackWithNative:uc,shimGetDisplayMedia:Pd,shimGetSendersWithDtmf:cc,shimGetStats:lc,shimGetUserMedia:ic,shimMediaStream:oc,shimOnTrack:ac,shimPeerConnection:ws,shimSenderReceiverGetStats:fc},Symbol.toStringTag,{value:"Module"}));function pc(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){di("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function wd(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function gc(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Os(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=e.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(t.version<53&&!o)try{c.forEach(f=>{f.type=n[f.type]||f.type})}catch(f){if(f.name!=="TypeError")throw f;c.forEach((l,u)=>{c.set(u,Object.assign({},l,{type:n[l.type]||l.type}))})}return c}).then(o,a)}}function mc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function yc(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),qt(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function _c(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){di("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function bc(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function vc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function xc(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Cc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Sc(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const ko=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:vc,shimCreateAnswer:Sc,shimCreateOffer:Cc,shimGetDisplayMedia:wd,shimGetParameters:xc,shimGetUserMedia:pc,shimOnTrack:gc,shimPeerConnection:Os,shimRTCDataChannel:bc,shimReceiverGetStats:yc,shimRemoveStream:_c,shimSenderGetStats:mc},Symbol.toStringTag,{value:"Module"}));function kc(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Rc(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function Tc(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(f,l){const u=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[u]);return l?(h.then(f,l),Promise.resolve()):h},t.createAnswer=function(f,l){const u=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[u]);return l?(h.then(f,l),Promise.resolve()):h};let a=function(c,f,l){const u=s.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u};t.setLocalDescription=a,a=function(c,f,l){const u=i.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u},t.setRemoteDescription=a,a=function(c,f,l){const u=o.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u},t.addIceCandidate=a}function Ec(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(Pc(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,i){t.mediaDevices.getUserMedia(r).then(s,i)}).bind(t))}function Pc(e){return e&&e.video!==void 0?Object.assign({},e,{video:sc(e.video)}):e}function wc(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(di("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Oc(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Mc(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Ic(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Ro=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Ic,shimCallbacksAPI:Tc,shimConstraints:Pc,shimCreateOfferLegacy:Mc,shimGetUserMedia:Ec,shimLocalStreamsAPI:kc,shimRTCIceServerUrls:wc,shimRemoteStreamsAPI:Rc,shimTrackEventTransceiver:Oc},Symbol.toStringTag,{value:"Module"}));function Od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ac={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],f=t.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(f){const l=t.parseRtpMap(f),u=t.matchPrefix(n,"a=fmtp:"+c+" ");switch(l.parameters=u.length?t.parseFmtp(u[0]):{},l.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(t.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(l=>l.type===c.type&&l.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=t.writeRtpMap(o),s+=t.writeFmtp(o),s+=t.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=t.writeExtmap(o)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),c=a.length>0&&a[0].ssrc;let f;const l=t.matchPrefix(n,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(x=>parseInt(x,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(f=l[0][1]),s.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let _={ssrc:c,codecPayloadType:parseInt(h.parameters.apt,10)};c&&f&&(_.rtx={ssrc:f}),r.push(_),i&&(_=JSON.parse(JSON.stringify(_)),_.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(_))}}),r.length===0&&c&&r.push({ssrc:c});let u=t.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,r.forEach(h=>{h.maxBitrate=u})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(Ac);var Dc=Ac.exports;const ln=Od(Dc),Md=Jc({__proto__:null,default:ln},[Dc]);function ur(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),i=ln.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,qt(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Ms(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||qt(e,"icecandidate",t=>{if(t.candidate){const n=ln.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function dr(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=ln.splitSections(a.sdp);return c.shift(),c.some(f=>{const l=ln.parseMLine(f);return l&&l.kind==="application"&&l.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const f=parseInt(c[1],10);return f!==f?-1:f},s=function(a){let c=65536;return t.browser==="firefox"&&(t.version<57?a===-1?c=16384:c=2147483637:t.version<60?c=t.version===57?65535:65536:c=2147483637),c},i=function(a,c){let f=65536;t.browser==="firefox"&&t.version===57&&(f=65535);const l=ln.matchPrefix(a.sdp,"a=max-message-size:");return l.length>0?f=parseInt(l[0].substring(19),10):t.browser==="firefox"&&c!==-1&&(f=2147483637),f},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),f=s(c),l=i(arguments[0],c);let u;f===0&&l===0?u=Number.POSITIVE_INFINITY:f===0||l===0?u=Math.max(f,l):u=Math.min(f,l);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return u}}),this._sctp=h}return o.apply(this,arguments)}}function hr(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},qt(e,"datachannel",r=>(t(r.channel,r.target),r))}function Is(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function As(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function pr(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function gr(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const Id=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:As,shimAddIceCandidateNullOrEmpty:pr,shimConnectionState:Is,shimMaxMessageSize:dr,shimParameterlessSetLocalDescription:gr,shimRTCIceCandidate:ur,shimRTCIceCandidateRelayProtocol:Ms,shimSendThrowTypeError:hr},Symbol.toStringTag,{value:"Module"}));function Ad({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=rc,r=Ed(e),s={browserDetails:r,commonShim:Id,extractVersion:fr,disableLog:Rd,disableWarnings:Td,sdp:Md};switch(r.browser){case"chrome":if(!So||!ws||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=So,pr(e,r),gr(e),ic(e,r),oc(e),ws(e,r),ac(e),dc(e,r),cc(e),lc(e),fc(e),hc(e,r),ur(e),Ms(e),Is(e),dr(e,r),hr(e),As(e,r);break;case"firefox":if(!ko||!Os||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=ko,pr(e,r),gr(e),pc(e,r),Os(e,r),gc(e),_c(e),mc(e),yc(e),bc(e),vc(e),xc(e),Cc(e),Sc(e),ur(e),Is(e),dr(e,r),hr(e);break;case"safari":if(!Ro||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=Ro,pr(e,r),gr(e),wc(e),Mc(e),Tc(e),kc(e),Rc(e),Oc(e),Ec(e),Ic(e),ur(e),Ms(e),dr(e,r),hr(e),As(e,r);break;default:n("Unsupported browser!");break}return s}const To=Ad({window:typeof window>"u"?void 0:window});let Ds;try{Ds=new TextDecoder}catch{}let N,zt,C=0;const Dd=105,jd=57342,Ld=57343,Eo=57337,Po=6,Xt={};let ie={},be,Tr,Er=0,Un=0,Se,Ze,ve=[],js=[],Fe,Le,Tn,wo={useRecords:!1,mapsAsObjects:!0},Fn=!1,jc=2;try{new Function("")}catch{jc=1/0}class Nn{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,s]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,s);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,s]of Object.entries(this._keyMap))this._mapKey.set(s,r)}let n={};return t.forEach((r,s)=>n[qe(this._mapKey.has(s)?this._mapKey.get(s):s)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(s=>this.decodeKeys(s))}return r}decode(t,n){if(N)return Uc(()=>(Us(),this?this.decode(t,n):Nn.prototype.decode.call(wo,t,n)));zt=n>-1?n:t.length,C=0,Un=0,Tr=null,Se=null,N=t;try{Le=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw N=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof Nn){if(ie=this,Fe=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return be=this.structures,er();(!be||be.length>0)&&(be=[])}else ie=wo,(!be||be.length>0)&&(be=[]),Fe=null;return er()}decodeMultiple(t,n){let r,s=0;try{let i=t.length;Fn=!0;let o=this?this.decode(t,i):gi.decode(t,i);if(n){if(n(o)===!1)return;for(;C<i;)if(s=C,n(er())===!1)return}else{for(r=[o];C<i;)s=C,r.push(er());return r}}catch(i){throw i.lastPosition=s,i.values=r,i}finally{Fn=!1,Us()}}}function er(){try{let e=se();if(Se){if(C>=Se.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}C=Se.postBundlePosition,Se=null}if(C==zt)be=null,N=null,Ze&&(Ze=null);else if(C>zt){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!Fn)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Us(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function se(){let e=N[C++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=N[C++];break;case 25:if(t==7)return Fd();e=Le.getUint16(C),C+=2;break;case 26:if(t==7){let n=Le.getFloat32(C);if(ie.useFloat32>2){let r=pi[(N[C]&127)<<1|N[C+1]>>7];return C+=4,(r*n+(n>0?.5:-.5)>>0)/r}return C+=4,n}e=Le.getUint32(C),C+=4;break;case 27:if(t==7){let n=Le.getFloat64(C);return C+=8,n}if(t>1){if(Le.getUint32(C)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=Le.getUint32(C+4)}else ie.int64AsNumber?(e=Le.getUint32(C)*4294967296,e+=Le.getUint32(C+4)):e=Le.getBigUint64(C);C+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,s=0;for(;(r=se())!=Xt;)n[s++]=r;return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(ie.mapsAsObjects){let o={};if(ie.keyMap)for(;(i=se())!=Xt;)o[qe(ie.decodeKey(i))]=se();else for(;(i=se())!=Xt;)o[qe(i)]=se();return o}else{Tn&&(ie.mapsAsObjects=!0,Tn=!1);let o=new Map;if(ie.keyMap)for(;(i=se())!=Xt;)o.set(ie.decodeKey(i),se());else for(;(i=se())!=Xt;)o.set(i,se());return o}case 7:return Xt;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Ud(e);case 3:if(Un>=C)return Tr.slice(C-Er,(C+=e)-Er);if(Un==0&&zt<140&&e<32){let s=e<16?Lc(e):Bd(e);if(s!=null)return s}return $d(e);case 4:let n=new Array(e);for(let s=0;s<e;s++)n[s]=se();return n;case 5:if(ie.mapsAsObjects){let s={};if(ie.keyMap)for(let i=0;i<e;i++)s[qe(ie.decodeKey(se()))]=se();else for(let i=0;i<e;i++)s[qe(se())]=se();return s}else{Tn&&(ie.mapsAsObjects=!0,Tn=!1);let s=new Map;if(ie.keyMap)for(let i=0;i<e;i++)s.set(ie.decodeKey(se()),se());else for(let i=0;i<e;i++)s.set(se(),se());return s}case 6:if(e>=Eo){let s=be[e&8191];if(s)return s.read||(s.read=Ls(s)),s.read();if(e<65536){if(e==Ld){let i=rn(),o=se(),a=se();Bs(o,a);let c={};if(ie.keyMap)for(let f=2;f<i;f++){let l=ie.decodeKey(a[f-2]);c[qe(l)]=se()}else for(let f=2;f<i;f++){let l=a[f-2];c[qe(l)]=se()}return c}else if(e==jd){let i=rn(),o=se();for(let a=2;a<i;a++)Bs(o++,se());return se()}else if(e==Eo)return Gd();if(ie.getShared&&(hi(),s=be[e&8191],s))return s.read||(s.read=Ls(s)),s.read()}}let r=ve[e];if(r)return r.handlesRead?r(se):r(se());{let s=se();for(let i=0;i<js.length;i++){let o=js[i](e,s);if(o!==void 0)return o}return new Ht(s,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let s=(Fe||jt())[e];if(s!==void 0)return s;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let s=new Error("Unexpected end of CBOR data");throw s.incomplete=!0,s}throw new Error("Unknown CBOR token "+e)}}const Oo=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Ls(e){function t(){let n=N[C++];if(n=n&31,n>23)switch(n){case 24:n=N[C++];break;case 25:n=Le.getUint16(C),C+=2;break;case 26:n=Le.getUint32(C),C+=4;break;default:throw new Error("Expected array header, but got "+N[C-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(se);r=r.next}if(this.slowReads++>=jc){let i=this.length==n?this:this.slice(0,n);return r=ie.keyMap?new Function("r","return {"+i.map(o=>ie.decodeKey(o)).map(o=>Oo.test(o)?qe(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(o=>Oo.test(o)?qe(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(se)}let s={};if(ie.keyMap)for(let i=0;i<n;i++)s[qe(ie.decodeKey(this[i]))]=se();else for(let i=0;i<n;i++)s[qe(this[i])]=se();return s}return e.slowReads=0,t}function qe(e){return e==="__proto__"?"__proto_":e}let $d=$s;function $s(e){let t;if(e<16&&(t=Lc(e)))return t;if(e>64&&Ds)return Ds.decode(N.subarray(C,C+=e));const n=C+e,r=[];for(t="";C<n;){const s=N[C++];if(!(s&128))r.push(s);else if((s&224)===192){const i=N[C++]&63;r.push((s&31)<<6|i)}else if((s&240)===224){const i=N[C++]&63,o=N[C++]&63;r.push((s&31)<<12|i<<6|o)}else if((s&248)===240){const i=N[C++]&63,o=N[C++]&63,a=N[C++]&63;let c=(s&7)<<18|i<<12|o<<6|a;c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c)}else r.push(s);r.length>=4096&&(t+=Te.apply(String,r),r.length=0)}return r.length>0&&(t+=Te.apply(String,r)),t}let Te=String.fromCharCode;function Bd(e){let t=C,n=new Array(e);for(let r=0;r<e;r++){const s=N[C++];if((s&128)>0){C=t;return}n[r]=s}return Te.apply(String,n)}function Lc(e){if(e<4)if(e<2){if(e===0)return"";{let t=N[C++];if((t&128)>1){C-=1;return}return Te(t)}}else{let t=N[C++],n=N[C++];if((t&128)>0||(n&128)>0){C-=2;return}if(e<3)return Te(t,n);let r=N[C++];if((r&128)>0){C-=3;return}return Te(t,n,r)}else{let t=N[C++],n=N[C++],r=N[C++],s=N[C++];if((t&128)>0||(n&128)>0||(r&128)>0||(s&128)>0){C-=4;return}if(e<6){if(e===4)return Te(t,n,r,s);{let i=N[C++];if((i&128)>0){C-=5;return}return Te(t,n,r,s,i)}}else if(e<8){let i=N[C++],o=N[C++];if((i&128)>0||(o&128)>0){C-=6;return}if(e<7)return Te(t,n,r,s,i,o);let a=N[C++];if((a&128)>0){C-=7;return}return Te(t,n,r,s,i,o,a)}else{let i=N[C++],o=N[C++],a=N[C++],c=N[C++];if((i&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){C-=8;return}if(e<10){if(e===8)return Te(t,n,r,s,i,o,a,c);{let f=N[C++];if((f&128)>0){C-=9;return}return Te(t,n,r,s,i,o,a,c,f)}}else if(e<12){let f=N[C++],l=N[C++];if((f&128)>0||(l&128)>0){C-=10;return}if(e<11)return Te(t,n,r,s,i,o,a,c,f,l);let u=N[C++];if((u&128)>0){C-=11;return}return Te(t,n,r,s,i,o,a,c,f,l,u)}else{let f=N[C++],l=N[C++],u=N[C++],h=N[C++];if((f&128)>0||(l&128)>0||(u&128)>0||(h&128)>0){C-=12;return}if(e<14){if(e===12)return Te(t,n,r,s,i,o,a,c,f,l,u,h);{let _=N[C++];if((_&128)>0){C-=13;return}return Te(t,n,r,s,i,o,a,c,f,l,u,h,_)}}else{let _=N[C++],x=N[C++];if((_&128)>0||(x&128)>0){C-=14;return}if(e<15)return Te(t,n,r,s,i,o,a,c,f,l,u,h,_,x);let T=N[C++];if((T&128)>0){C-=15;return}return Te(t,n,r,s,i,o,a,c,f,l,u,h,_,x,T)}}}}}function Ud(e){return ie.copyBuffers?Uint8Array.prototype.slice.call(N,C,C+=e):N.subarray(C,C+=e)}let $c=new Float32Array(1),tr=new Uint8Array($c.buffer,0,4);function Fd(){let e=N[C++],t=N[C++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return tr[3]=e&128|(n>>1)+56,tr[2]=(e&7)<<5|t>>3,tr[1]=t<<5,tr[0]=0,$c[0]}new Array(4096);class Ht{constructor(t,n){this.value=t,this.tag=n}}ve[0]=e=>new Date(e);ve[1]=e=>new Date(Math.round(e*1e3));ve[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+t<<BigInt(8);return t};ve[3]=e=>BigInt(-1)-ve[2](e);ve[4]=e=>+(e[1]+"e"+e[0]);ve[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const Bs=(e,t)=>{e=e-57344;let n=be[e];n&&n.isShared&&((be.restoreStructures||(be.restoreStructures=[]))[e]=n),be[e]=t,t.read=Ls(t)};ve[Dd]=e=>{let t=e.length,n=e[1];Bs(e[0],n);let r={};for(let s=2;s<t;s++){let i=n[s-2];r[qe(i)]=e[s]}return r};ve[14]=e=>Se?Se[0].slice(Se.position0,Se.position0+=e):new Ht(e,14);ve[15]=e=>Se?Se[1].slice(Se.position1,Se.position1+=e):new Ht(e,15);let Nd={Error,RegExp};ve[27]=e=>(Nd[e[0]]||Error)(e[1],e[2]);const Bc=e=>{if(N[C++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let t=e();return Fe=Fe?t.concat(Fe.slice(t.length)):t,Fe.prefixes=e(),Fe.suffixes=e(),e()};Bc.handlesRead=!0;ve[51]=Bc;ve[Po]=e=>{if(!Fe)if(ie.getShared)hi();else return new Ht(e,Po);if(typeof e=="number")return Fe[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")};ve[28]=e=>{Ze||(Ze=new Map,Ze.id=0);let t=Ze.id++,n=N[C],r;n>>5==4?r=[]:r={};let s={target:r};Ze.set(t,s);let i=e();return s.used?Object.assign(r,i):(s.target=i,i)};ve[28].handlesRead=!0;ve[29]=e=>{let t=Ze.get(e);return t.used=!0,t.target};ve[258]=e=>new Set(e);(ve[259]=e=>(ie.mapsAsObjects&&(ie.mapsAsObjects=!1,Tn=!0),e())).handlesRead=!0;function Zt(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function jt(){if(!Fe)if(ie.getShared)hi();else throw new Error("No packed values available");return Fe}const Vd=1399353956;js.push((e,t)=>{if(e>=225&&e<=255)return Zt(jt().prefixes[e-224],t);if(e>=28704&&e<=32767)return Zt(jt().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return Zt(jt().prefixes[e-1879048192],t);if(e>=216&&e<=223)return Zt(t,jt().suffixes[e-216]);if(e>=27647&&e<=28671)return Zt(t,jt().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return Zt(t,jt().suffixes[e-1811939328]);if(e==Vd)return{packedValues:Fe,structures:be.slice(0),version:t};if(e==55799)return t});const zd=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,Mo=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Hd=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<Mo.length;e++)Kd(Mo[e],Hd[e]);function Kd(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let s=0;s<2;s++){if(!s&&r==1)continue;let i=r==2?1:r==4?2:3;ve[s?t:t-4]=r==1||s==zd?o=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!e)throw new Error("Could not find typed array for code "+t);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>i,f=new e(c),l=a[n];for(let u=0;u<c;u++)f[u]=l.call(a,u<<i,s);return f}}}function Gd(){let e=rn(),t=C+se();for(let r=2;r<e;r++){let s=rn();C+=s}let n=C;return C=t,Se=[$s(rn()),$s(rn())],Se.position0=0,Se.position1=0,Se.postBundlePosition=C,C=n,se()}function rn(){let e=N[C++]&31;if(e>23)switch(e){case 24:e=N[C++];break;case 25:e=Le.getUint16(C),C+=2;break;case 26:e=Le.getUint32(C),C+=4;break}return e}function hi(){if(ie.getShared){let e=Uc(()=>(N=null,ie.getShared()))||{},t=e.structures||[];ie.sharedVersion=e.version,Fe=ie.sharedValues=e.packedValues,be===!0?ie.structures=be=t:be.splice.apply(be,[0,t.length].concat(t))}}function Uc(e){let t=zt,n=C,r=Er,s=Un,i=Tr,o=Ze,a=Se,c=new Uint8Array(N.slice(0,zt)),f=be,l=ie,u=Fn,h=e();return zt=t,C=n,Er=r,Un=s,Tr=i,Ze=o,Se=a,N=c,Fn=u,be=f,ie=l,Le=new DataView(N.buffer,N.byteOffset,N.byteLength),h}function Us(){N=null,Ze=null,be=null}const pi=new Array(147);for(let e=0;e<256;e++)pi[e]=+("1e"+Math.floor(45.15-e*.30103));let gi=new Nn({useRecords:!1});gi.decode;gi.decodeMultiple;let mr;try{mr=new TextEncoder}catch{}let Fs,Fc;const Gr=typeof globalThis=="object"&&globalThis.Buffer,Gn=typeof Gr<"u",ss=Gn?Gr.allocUnsafeSlow:Uint8Array,Io=Gn?Gr:Uint8Array,Ao=256,Do=Gn?4294967296:2144337920;let is,y,he,g=0,kt,Ce=null;const qd=61440,Jd=/[\u0080-\uFFFF]/,Ke=Symbol("record-id");class Wd extends Nn{constructor(t){super(t),this.offset=0;let n,r,s,i,o;t=t||{};let a=Io.prototype.utf8Write?function(m,$,P){return y.utf8Write(m,$,P)}:mr&&mr.encodeInto?function(m,$){return mr.encodeInto(m,y.subarray($)).written}:!1,c=this,f=t.structures||t.saveStructures,l=t.maxSharedStructures;if(l==null&&(l=f?128:0),l>8190)throw new Error("Maximum maxSharedStructure is 8190");let u=t.sequential;u&&(l=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let h,_,x=t.sharedValues,T;if(x){T=Object.create(null);for(let m=0,$=x.length;m<$;m++)T[x[m]]=m}let B=[],z=0,Z=0;this.mapEncode=function(m,$){if(this._keyMap&&!this._mapped)switch(m.constructor.name){case"Array":m=m.map(P=>this.encodeKeys(P));break}return this.encode(m,$)},this.encode=function(m,$){if(y||(y=new ss(8192),he=new DataView(y.buffer,0,8192),g=0),kt=y.length-10,kt-g<2048?(y=new ss(y.length),he=new DataView(y.buffer,0,y.length),kt=y.length-10,g=0):$===Bo&&(g=g+7&2147483640),n=g,c.useSelfDescribedHeader&&(he.setUint32(g,3654940416),g+=3),o=c.structuredClone?new Map:null,c.bundleStrings&&typeof m!="string"?(Ce=[],Ce.size=1/0):Ce=null,r=c.structures,r){if(r.uninitialized){let E=c.getShared()||{};c.structures=r=E.structures||[],c.sharedVersion=E.version;let v=c.sharedValues=E.packedValues;if(v){T={};for(let A=0,q=v.length;A<q;A++)T[v[A]]=A}}let P=r.length;if(P>l&&!u&&(P=l),!r.transitions){r.transitions=Object.create(null);for(let E=0;E<P;E++){let v=r[E];if(!v)continue;let A,q=r.transitions;for(let Y=0,Q=v.length;Y<Q;Y++){q[Ke]===void 0&&(q[Ke]=E);let X=v[Y];A=q[X],A||(A=q[X]=Object.create(null)),q=A}q[Ke]=E|1048576}}u||(r.nextId=P)}if(s&&(s=!1),i=r||[],_=T,t.pack){let P=new Map;if(P.values=[],P.encoder=c,P.maxValues=t.maxPrivatePackedValues||(T?16:1/0),P.objectMap=T||!1,P.samplingPackedValues=h,yr(m,P),P.values.length>0){y[g++]=216,y[g++]=51,ct(4);let E=P.values;D(E),ct(0),ct(0),_=Object.create(T||null);for(let v=0,A=E.length;v<A;v++)_[E[v]]=v}}is=$&as;try{if(is)return;if(D(m),Ce&&$o(n,D),c.offset=g,o&&o.idsToInsert){g+=o.idsToInsert.length*2,g>kt&&de(g),c.offset=g;let P=Xd(y.subarray(n,g),o.idsToInsert);return o=null,P}return $&Bo?(y.start=n,y.end=g,y):y.subarray(n,g)}finally{if(r){if(Z<10&&Z++,r.length>l&&(r.length=l),z>1e4)r.transitions=null,Z=0,z=0,B.length>0&&(B=[]);else if(B.length>0&&!u){for(let P=0,E=B.length;P<E;P++)B[P][Ke]=void 0;B=[]}}if(s&&c.saveShared){c.structures.length>l&&(c.structures=c.structures.slice(0,l));let P=y.subarray(n,g);return c.updateSharedData()===!1?c.encode(m):P}$&Zd&&(g=n)}},this.findCommonStringsToPack=()=>(h=new Map,T||(T=Object.create(null)),m=>{let $=m&&m.threshold||4,P=this.pack?m.maxPrivatePackedValues||16:0;x||(x=this.sharedValues=[]);for(let[E,v]of h)v.count>$&&(T[E]=P++,x.push(E),s=!0);for(;this.saveShared&&this.updateSharedData()===!1;);h=null});const D=m=>{g>kt&&(y=de(g));var $=typeof m,P;if($==="string"){if(_){let q=_[m];if(q>=0){q<16?y[g++]=q+224:(y[g++]=198,q&1?D(15-q>>1):D(q-16>>1));return}else if(h&&!t.pack){let Y=h.get(m);Y?Y.count++:h.set(m,{count:1})}}let E=m.length;if(Ce&&E>=4&&E<1024){if((Ce.size+=E)>qd){let Y,Q=(Ce[0]?Ce[0].length*3+Ce[1].length:0)+10;g+Q>kt&&(y=de(g+Q)),y[g++]=217,y[g++]=223,y[g++]=249,y[g++]=Ce.position?132:130,y[g++]=26,Y=g-n,g+=4,Ce.position&&$o(n,D),Ce=["",""],Ce.size=0,Ce.position=Y}let q=Jd.test(m);Ce[q?0:1]+=m,y[g++]=q?206:207,D(E);return}let v;E<32?v=1:E<256?v=2:E<65536?v=3:v=5;let A=E*3;if(g+A>kt&&(y=de(g+A)),E<64||!a){let q,Y,Q,X=g+v;for(q=0;q<E;q++)Y=m.charCodeAt(q),Y<128?y[X++]=Y:Y<2048?(y[X++]=Y>>6|192,y[X++]=Y&63|128):(Y&64512)===55296&&((Q=m.charCodeAt(q+1))&64512)===56320?(Y=65536+((Y&1023)<<10)+(Q&1023),q++,y[X++]=Y>>18|240,y[X++]=Y>>12&63|128,y[X++]=Y>>6&63|128,y[X++]=Y&63|128):(y[X++]=Y>>12|224,y[X++]=Y>>6&63|128,y[X++]=Y&63|128);P=X-g-v}else P=a(m,g+v,A);P<24?y[g++]=96|P:P<256?(v<2&&y.copyWithin(g+2,g+1,g+1+P),y[g++]=120,y[g++]=P):P<65536?(v<3&&y.copyWithin(g+3,g+2,g+2+P),y[g++]=121,y[g++]=P>>8,y[g++]=P&255):(v<5&&y.copyWithin(g+5,g+3,g+3+P),y[g++]=122,he.setUint32(g,P),g+=4),g+=P}else if($==="number")if(!this.alwaysUseFloat&&m>>>0===m)m<24?y[g++]=m:m<256?(y[g++]=24,y[g++]=m):m<65536?(y[g++]=25,y[g++]=m>>8,y[g++]=m&255):(y[g++]=26,he.setUint32(g,m),g+=4);else if(!this.alwaysUseFloat&&m>>0===m)m>=-24?y[g++]=31-m:m>=-256?(y[g++]=56,y[g++]=~m):m>=-65536?(y[g++]=57,he.setUint16(g,~m),g+=2):(y[g++]=58,he.setUint32(g,~m),g+=4);else{let E;if((E=this.useFloat32)>0&&m<4294967296&&m>=-2147483648){y[g++]=250,he.setFloat32(g,m);let v;if(E<4||(v=m*pi[(y[g]&127)<<1|y[g+1]>>7])>>0===v){g+=4;return}else g--}y[g++]=251,he.setFloat64(g,m),g+=8}else if($==="object")if(!m)y[g++]=246;else{if(o){let v=o.get(m);if(v){if(y[g++]=216,y[g++]=29,y[g++]=25,!v.references){let A=o.idsToInsert||(o.idsToInsert=[]);v.references=[],A.push(v)}v.references.push(g-n),g+=2;return}else o.set(m,{offset:g-n})}let E=m.constructor;if(E===Object)oe(m,!0);else if(E===Array){P=m.length,P<24?y[g++]=128|P:ct(P);for(let v=0;v<P;v++)D(m[v])}else if(E===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(y[g++]=217,y[g++]=1,y[g++]=3),P=m.size,P<24?y[g++]=160|P:P<256?(y[g++]=184,y[g++]=P):P<65536?(y[g++]=185,y[g++]=P>>8,y[g++]=P&255):(y[g++]=186,he.setUint32(g,P),g+=4),c.keyMap)for(let[v,A]of m)D(c.encodeKey(v)),D(A);else for(let[v,A]of m)D(v),D(A);else{for(let v=0,A=Fs.length;v<A;v++){let q=Fc[v];if(m instanceof q){let Y=Fs[v],Q=Y.tag;Q==null&&(Q=Y.getTag&&Y.getTag.call(this,m)),Q<24?y[g++]=192|Q:Q<256?(y[g++]=216,y[g++]=Q):Q<65536?(y[g++]=217,y[g++]=Q>>8,y[g++]=Q&255):Q>-1&&(y[g++]=218,he.setUint32(g,Q),g+=4),Y.encode.call(this,m,D,de);return}}if(m[Symbol.iterator]){if(is){let v=new Error("Iterable should be serialized as iterator");throw v.iteratorNotHandled=!0,v}y[g++]=159;for(let v of m)D(v);y[g++]=255;return}if(m[Symbol.asyncIterator]||os(m)){let v=new Error("Iterable/blob should be serialized as iterator");throw v.iteratorNotHandled=!0,v}if(this.useToJSON&&m.toJSON){const v=m.toJSON();if(v!==m)return D(v)}oe(m,!m.hasOwnProperty)}}else if($==="boolean")y[g++]=m?245:244;else if($==="bigint"){if(m<BigInt(1)<<BigInt(64)&&m>=0)y[g++]=27,he.setBigUint64(g,m);else if(m>-(BigInt(1)<<BigInt(64))&&m<0)y[g++]=59,he.setBigUint64(g,-m-BigInt(1));else if(this.largeBigIntToFloat)y[g++]=251,he.setFloat64(g,Number(m));else throw new RangeError(m+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");g+=8}else if($==="undefined")y[g++]=247;else throw new Error("Unknown type: "+$)},oe=this.useRecords===!1?this.variableMapSize?m=>{let $=Object.keys(m),P=Object.values(m),E=$.length;if(E<24?y[g++]=160|E:E<256?(y[g++]=184,y[g++]=E):E<65536?(y[g++]=185,y[g++]=E>>8,y[g++]=E&255):(y[g++]=186,he.setUint32(g,E),g+=4),c.keyMap)for(let v=0;v<E;v++)D(c.encodeKey($[v])),D(P[v]);else for(let v=0;v<E;v++)D($[v]),D(P[v])}:(m,$)=>{y[g++]=185;let P=g-n;g+=2;let E=0;if(c.keyMap)for(let v in m)($||m.hasOwnProperty(v))&&(D(c.encodeKey(v)),D(m[v]),E++);else for(let v in m)($||m.hasOwnProperty(v))&&(D(v),D(m[v]),E++);y[P+++n]=E>>8,y[P+n]=E&255}:(m,$)=>{let P,E=i.transitions||(i.transitions=Object.create(null)),v=0,A=0,q,Y;if(this.keyMap){Y=Object.keys(m).map(X=>this.encodeKey(X)),A=Y.length;for(let X=0;X<A;X++){let gt=Y[X];P=E[gt],P||(P=E[gt]=Object.create(null),v++),E=P}}else for(let X in m)($||m.hasOwnProperty(X))&&(P=E[X],P||(E[Ke]&1048576&&(q=E[Ke]&65535),P=E[X]=Object.create(null),v++),E=P,A++);let Q=E[Ke];if(Q!==void 0)Q&=65535,y[g++]=217,y[g++]=Q>>8|224,y[g++]=Q&255;else if(Y||(Y=E.__keys__||(E.__keys__=Object.keys(m))),q===void 0?(Q=i.nextId++,Q||(Q=0,i.nextId=1),Q>=Ao&&(i.nextId=(Q=l)+1)):Q=q,i[Q]=Y,Q<l){y[g++]=217,y[g++]=Q>>8|224,y[g++]=Q&255,E=i.transitions;for(let X=0;X<A;X++)(E[Ke]===void 0||E[Ke]&1048576)&&(E[Ke]=Q),E=E[Y[X]];E[Ke]=Q|1048576,s=!0}else{if(E[Ke]=Q,he.setUint32(g,3655335680),g+=3,v&&(z+=Z*v),B.length>=Ao-l&&(B.shift()[Ke]=void 0),B.push(E),ct(A+2),D(57344+Q),D(Y),$===null)return;for(let X in m)($||m.hasOwnProperty(X))&&D(m[X]);return}if(A<24?y[g++]=128|A:ct(A),$!==null)for(let X in m)($||m.hasOwnProperty(X))&&D(m[X])},de=m=>{let $;if(m>16777216){if(m-n>Do)throw new Error("Encoded buffer would be larger than maximum buffer size");$=Math.min(Do,Math.round(Math.max((m-n)*(m>67108864?1.25:2),4194304)/4096)*4096)}else $=(Math.max(m-n<<2,y.length-1)>>12)+1<<12;let P=new ss($);return he=new DataView(P.buffer,0,$),y.copy?y.copy(P,0,n,m):P.set(y.slice(n,m)),g-=n,n=0,kt=P.length-10,y=P};let W=100,ke=1e3;this.encodeAsIterable=function(m,$){return We(m,$,xe)},this.encodeAsAsyncIterable=function(m,$){return We(m,$,st)};function*xe(m,$,P){let E=m.constructor;if(E===Object){let v=c.useRecords!==!1;v?oe(m,null):jo(Object.keys(m).length,160);for(let A in m){let q=m[A];v||D(A),q&&typeof q=="object"?$[A]?yield*xe(q,$[A]):yield*rt(q,$,A):D(q)}}else if(E===Array){let v=m.length;ct(v);for(let A=0;A<v;A++){let q=m[A];q&&(typeof q=="object"||g-n>W)?$.element?yield*xe(q,$.element):yield*rt(q,$,"element"):D(q)}}else if(m[Symbol.iterator]){y[g++]=159;for(let v of m)v&&(typeof v=="object"||g-n>W)?$.element?yield*xe(v,$.element):yield*rt(v,$,"element"):D(v);y[g++]=255}else os(m)?(jo(m.size,64),yield y.subarray(n,g),yield m,Oe()):m[Symbol.asyncIterator]?(y[g++]=159,yield y.subarray(n,g),yield m,Oe(),y[g++]=255):D(m);P&&g>n?yield y.subarray(n,g):g-n>W&&(yield y.subarray(n,g),Oe())}function*rt(m,$,P){let E=g-n;try{D(m),g-n>W&&(yield y.subarray(n,g),Oe())}catch(v){if(v.iteratorNotHandled)$[P]={},g=n+E,yield*xe.call(this,m,$[P]);else throw v}}function Oe(){W=ke,c.encode(null,as)}function We(m,$,P){return $&&$.chunkThreshold?W=ke=$.chunkThreshold:W=100,m&&typeof m=="object"?(c.encode(null,as),P(m,c.iterateProperties||(c.iterateProperties={}),!0)):[c.encode(m)]}async function*st(m,$){for(let P of xe(m,$,!0)){let E=P.constructor;if(E===Io||E===Uint8Array)yield P;else if(os(P)){let v=P.stream().getReader(),A;for(;!(A=await v.read()).done;)yield A.value}else if(P[Symbol.asyncIterator])for await(let v of P)Oe(),v?yield*st(v,$.async||($.async={})):yield c.encode(v);else yield P}}}useBuffer(t){y=t,he=new DataView(y.buffer,y.byteOffset,y.byteLength),g=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let n=this.structures.slice(0),r=new Nc(n,this.sharedValues,this.sharedVersion),s=this.saveShared(r,i=>(i&&i.version||0)==t);return s===!1?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((i,o)=>this.structures[o]=i),s}}function jo(e,t){e<24?y[g++]=t|e:e<256?(y[g++]=t|24,y[g++]=e):e<65536?(y[g++]=t|25,y[g++]=e>>8,y[g++]=e&255):(y[g++]=t|26,he.setUint32(g,e),g+=4)}class Nc{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function ct(e){e<24?y[g++]=128|e:e<256?(y[g++]=152,y[g++]=e):e<65536?(y[g++]=153,y[g++]=e>>8,y[g++]=e&255):(y[g++]=154,he.setUint32(g,e),g+=4)}const Yd=typeof Blob>"u"?function(){}:Blob;function os(e){if(e instanceof Yd)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function yr(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let s=t.samplingPackedValues.get(e);s?s.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,s=e.length;r<s;r++)yr(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&yr(n,t),yr(e[n],t))}break;case"function":console.log(e)}}const Qd=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;Fc=[Date,Set,Error,RegExp,Ht,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Nc];Fs=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(y[g++]=26,he.setUint32(g,n),g+=4):(y[g++]=251,he.setFloat64(g,n),g+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){Lo(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||Gn&&this.tagUint8Array!==!1))return 64},encode(e,t,n){Lo(e,n)}},at(68,1),at(69,2),at(70,4),at(71,8),at(72,1),at(77,2),at(78,4),at(79,8),at(85,4),at(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){y[g++]=216,y[g++]=51,ct(4);let s=n.values;t(s),ct(0),ct(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,o=s.length;i<o;i++)packedObjectMap[s[i]]=i}if(r){he.setUint32(g,3655335424),g+=3;let s=r.slice(0);s.unshift(57344),s.push(new Ht(e.version,1399353956)),t(s)}else t(new Ht(e.version,1399353956))}}];function at(e,t){return!Qd&&t>1&&(e-=4),{tag:e,encode:function(r,s){let i=r.byteLength,o=r.byteOffset||0,a=r.buffer||r;s(Gn?Gr.from(a,o,i):new Uint8Array(a,o,i))}}}function Lo(e,t){let n=e.byteLength;n<24?y[g++]=64+n:n<256?(y[g++]=88,y[g++]=n):n<65536?(y[g++]=89,y[g++]=n>>8,y[g++]=n&255):(y[g++]=90,he.setUint32(g,n),g+=4),g+n>=y.length&&t(g+n),y.set(e.buffer?e:new Uint8Array(e),g),g+=n}function Xd(e,t){let n,r=t.length*2,s=e.length-r;t.sort((i,o)=>i.offset>o.offset?1:-1);for(let i=0;i<t.length;i++){let o=t[i];o.id=i;for(let a of o.references)e[a++]=i>>8,e[a]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,s),r-=2;let o=i+r;e[o++]=216,e[o++]=28,s=i}return e}function $o(e,t){he.setUint32(Ce.position+e,g-Ce.position-e+1);let n=Ce;Ce=null,t(n[0]),t(n[1])}let mi=new Wd({useRecords:!1});mi.encode;mi.encodeAsIterable;mi.encodeAsAsyncIterable;const Bo=512,Zd=1024,as=2048;function Jt(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class Vc{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),c=t.slice(o,a),f={__peerData:this._dataCount,n:i,data:c,total:s};n.push(f),o=a,i++}return this._dataCount++,n}}}function eh(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const cs=To.default||To,Sn=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return cs.browserDetails.browser}getVersion(){return cs.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=cs.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},th=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),zc=()=>Math.random().toString(36).slice(2),Uo={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class nh extends Vc{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Uo,this.browser=Sn.getBrowser(),this.browserVersion=Sn.getVersion(),this.pack=ec,this.unpack=Za,this.supports=function(){const n={browser:Sn.isBrowserSupported(),webRTC:Sn.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Uo),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Sn.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=th,this.randomToken=zc}}const Ue=new nh,rh="PeerJS: ";var Fo;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Fo||(Fo={}));class sh{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[rh,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var V=new sh,yi={},ih=Object.prototype.hasOwnProperty,$e="~";function Vn(){}Object.create&&(Vn.prototype=Object.create(null),new Vn().__proto__||($e=!1));function oh(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Hc(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new oh(n,r||e,s),o=$e?$e+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],i]:e._events[o].push(i):(e._events[o]=i,e._eventsCount++),e}function _r(e,t){--e._eventsCount===0?e._events=new Vn:delete e._events[t]}function De(){this._events=new Vn,this._eventsCount=0}De.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)ih.call(n,r)&&t.push($e?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};De.prototype.listeners=function(t){var n=$e?$e+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};De.prototype.listenerCount=function(t){var n=$e?$e+t:t,r=this._events[n];return r?r.fn?1:r.length:0};De.prototype.emit=function(t,n,r,s,i,o){var a=$e?$e+t:t;if(!this._events[a])return!1;var c=this._events[a],f=arguments.length,l,u;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,s),!0;case 5:return c.fn.call(c.context,n,r,s,i),!0;case 6:return c.fn.call(c.context,n,r,s,i,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h=c.length,_;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,n);break;case 3:c[u].fn.call(c[u].context,n,r);break;case 4:c[u].fn.call(c[u].context,n,r,s);break;default:if(!l)for(_=1,l=new Array(f-1);_<f;_++)l[_-1]=arguments[_];c[u].fn.apply(c[u].context,l)}}return!0};De.prototype.on=function(t,n,r){return Hc(this,t,n,r,!1)};De.prototype.once=function(t,n,r){return Hc(this,t,n,r,!0)};De.prototype.removeListener=function(t,n,r,s){var i=$e?$e+t:t;if(!this._events[i])return this;if(!n)return _r(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&_r(this,i);else{for(var a=0,c=[],f=o.length;a<f;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[i]=c.length===1?c[0]:c:_r(this,i)}return this};De.prototype.removeAllListeners=function(t){var n;return t?(n=$e?$e+t:t,this._events[n]&&_r(this,n)):(this._events=new Vn,this._eventsCount=0),this};De.prototype.off=De.prototype.removeListener;De.prototype.addListener=De.prototype.on;De.prefixed=$e;De.EventEmitter=De;yi=De;var Wt={};Jt(Wt,"ConnectionType",()=>ht);Jt(Wt,"PeerErrorType",()=>_e);Jt(Wt,"BaseConnectionErrorType",()=>zn);Jt(Wt,"DataConnectionErrorType",()=>Hn);Jt(Wt,"SerializationType",()=>gn);Jt(Wt,"SocketEventType",()=>ut);Jt(Wt,"ServerMessageType",()=>Ee);var ht;(function(e){e.Data="data",e.Media="media"})(ht||(ht={}));var _e;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(_e||(_e={}));var zn;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(zn||(zn={}));var Hn;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(Hn||(Hn={}));var gn;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(gn||(gn={}));var ut;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(ut||(ut={}));var Ee;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Ee||(Ee={}));var _i={};_i=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class ah extends yi.EventEmitter{constructor(t,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+_i.version),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),V.log("Server message received:",i)}catch{V.log("Invalid server message",s.data);return}this.emit(ut.Message,i)},this._socket.onclose=s=>{this._disconnected||(V.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(ut.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),V.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){V.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Ee.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(ut.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Kc{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===ht.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){V.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;V.log("Listening for ICE candidates."),t.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(V.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:Ee.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":V.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(zn.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":V.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(zn.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":V.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},V.log("Listening for data channel"),t.ondatachannel=o=>{V.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},V.log("Listening for remote stream"),t.ontrack=o=>{V.log("Received remote stream");const a=o.streams[0],c=i.getConnection(n,r);if(c.type===ht.Media){const f=c;this._addStreamToMediaConnection(a,f)}}}cleanup(){V.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);V.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),V.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ht.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Ee.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(_e.WebRTC,s),V.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(_e.WebRTC,r),V.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();V.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),V.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Ee.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(_e.WebRTC,s),V.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(_e.WebRTC,r),V.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;V.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),V.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(_e.WebRTC,o),V.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(t){V.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),V.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(_e.WebRTC,n),V.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(V.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return V.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){V.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Gc extends yi.EventEmitter{emitError(t,n){V.error("Error:",n),this.emit("error",new ch(`${t}`,n))}}class ch extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class qc extends Gc{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var Ns;const Mn=class Mn extends qc{get type(){return ht.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Mn.ID_PREFIX+Ue.randomToken(),this._negotiator=new Kc(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{V.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{V.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){V.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Ee.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Ee.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:V.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){V.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Ns=new WeakMap,bn(Mn,Ns,Mn.ID_PREFIX="mc_");let Pr=Mn;class lh{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",_i.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){V.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Ue.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Ue.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw V.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var Vs,zs;const $t=class $t extends qc{get type(){return ht.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||$t.ID_PREFIX+zc(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Kc(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{V.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{V.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{V.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(Hn.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Ee.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Ee.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:V.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};Vs=new WeakMap,zs=new WeakMap,bn($t,Vs,$t.ID_PREFIX="dc_"),bn($t,zs,$t.MAX_BUFFERED_AMOUNT=8388608);let wr=$t;class bi extends wr{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>wr.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return V.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class ls extends bi{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new Vc,this.serialization=gn.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=Za(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=eh(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=ec(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);V.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class fh extends bi{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=gn.None}}class uh extends bi{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Ue.chunkedMTU){this.emitError(Hn.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=gn.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Hs;const In=class In extends Gc{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:fh,json:uh,binary:ls,"binary-utf8":ls,default:ls},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Ue.CLOUD_HOST,port:Ue.CLOUD_PORT,path:"/",key:In.DEFAULT_KEY,token:Ue.randomToken(),config:Ue.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ue.CLOUD_HOST?this._options.secure=Ue.isSecure():this._options.host==Ue.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&V.setLogFunction(this._options.logFunction),V.logLevel=this._options.debug||0,this._api=new lh(n),this._socket=this._createServerConnection(),!Ue.supports.audioVideo&&!Ue.supports.data){this._delayedAbort(_e.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Ue.validateId(r)){this._delayedAbort(_e.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(_e.ServerError,s))}_createServerConnection(){const t=new ah(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(ut.Message,n=>{this._handleMessage(n)}),t.on(ut.Error,n=>{this._abort(_e.SocketError,n)}),t.on(ut.Disconnected,()=>{this.disconnected||(this.emitError(_e.Network,"Lost connection to server."),this.disconnect())}),t.on(ut.Close,()=>{this.disconnected||this._abort(_e.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case Ee.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Ee.Error:this._abort(_e.ServerError,r.msg);break;case Ee.IdTaken:this._abort(_e.UnavailableID,`ID "${this.id}" is taken`);break;case Ee.InvalidKey:this._abort(_e.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Ee.Leave:V.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Ee.Expire:this.emitError(_e.PeerUnavailable,`Could not connect to peer ${s}`);break;case Ee.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),V.warn(`Offer received for existing Connection ID:${i}`)),r.type===ht.Media){const c=new Pr(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=c,this._addConnection(s,o),this.emit("call",c)}else if(r.type===ht.Data){const c=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=c,this._addConnection(s,o),this.emit("connection",c)}else{V.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const c of a)o.handleMessage(c);break}default:{if(!r){V.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(t):i?this._storeMessage(i,t):V.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){V.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(_e.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){V.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(_e.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){V.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Pr(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){V.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){V.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(V.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;V.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)V.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)V.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(_e.ServerError,n))}};Hs=new WeakMap,bn(In,Hs,In.DEFAULT_KEY="peerjs");let fn=In;const dh={class:"container d-flex flex-column py-4"},hh=H("h1",{class:"fw-bold mb-3"},"How to serve web pages directly from your browser",-1),ph=H("div",{class:"d-flex align-items-center"},[H("span",{class:"bi bi-calendar2-event me-2"}),H("span",{class:"text-muted"},"Feb 2024")],-1),gh=H("hr",null,null,-1),mh={class:"d-flex flex-column"},yh=H("a",{href:"#quickstart",class:"unlink"},[H("h2",{id:"quickstart",class:"fw-bold"},"Quickstart")],-1),_h={class:"code"},bh=H("p",null," Enter an address with some content and click on the button to instantly make it available on the web using peer-to-peer connections. ",-1),vh={class:"row mb-3"},xh=H("label",{for:"inputAddress",class:"col-sm-2 col-form-label"},"Address",-1),Ch={class:"col-sm-10 mb-2"},Sh=["readonly"],kh={class:"col-sm-10 offset-sm-2"},Rh=["href"],Th={class:"row mb-3"},Eh=H("label",{for:"inputContent",class:"col-sm-2 col-form-label"},"Content",-1),Ph={class:"col-sm-10"},wh={class:"mt-3"},Oh=H("label",{for:"formFile",class:"form-label"},"Or upload a single HTML file",-1),Mh={class:"d-flex flex-column"},Ih=H("h3",null,"Ready to publish?",-1),Ah=H("p",null,"Click the button below to publish your web page.",-1),Dh={class:"d-flex justify-content-start"},jh=H("hr",null,null,-1),Lh=H("div",{class:"d-flex flex-column"},[H("a",{href:"#going-further",class:"unlink"},[H("h2",{id:"going-further",class:"fw-bold"},"Going further")]),H("p",null,"If you had fun with the example above, it's time to go a little further. Let's start by explaining what is really going on here."),H("p",null,[Vt("In Peer-to-Peer networks, there is no central server that exchanges data through the connections between peers. Each peer can be a client and a server at the same time. In our example, we are using "),H("a",{href:"https://peerjs.com"},"PeerJS"),Vt(" library to establish p2p connections. Now, when you click on that button and publish your HTML content, you actually create a "),H("strong",null,"Peer"),Vt(" that is listening on the address you provided. This Peer is a unique identifier used by the signaling server to direct other peers to your peer. So, when a user enters your address in their browser, they actually create a new Peer themselves and connect to your peer. Then, your peer sends the HTML content as a response and the browser renders the HTML content acquired from the response. That's basically it, however you can extend this functionality by adding routing and handling URL parameters, which is what we are going to do next. ")]),H("p",null,"Let's continue!")],-1),$h={class:"d-flex flex-column"},Bh=Nr(`<a href="#adding-routes" class="unlink"><h2 id="adding-routes" class="fw-bold">Adding routes</h2></a><p>Until now, we have only served a single HTML file on a single route. But we can do better than that. Let&#39;s add a route to our web page.</p><p>We start by creating our peer first.</p><pre class="code">const peer = new Peer();</pre><p>When a user connects to our peer, a <strong>connection</strong> event is emitted. We simply listen to this event to handle the connection and send a response to the user. Per implementation, a <strong>metadata</strong> object is attached to the connection by the user. This object contains the route and the query parameters of the user. Let us suppose that the user goes to <code>/about?name=John&amp;age=20</code>. Then, we will get the following metadata object. </p><pre class="code">metadata: {
    route: &#39;/about&#39;,
    query: {
        name: &#39;John&#39;,
        age: 20
    }
}</pre><p>Now that we have the route and the parameters, we can handle the request accordingly. Let&#39;s create a route for the index page and the about page. Here&#39;s the HTML content for the index page:</p>`,7),Uh={class:"code"},Fh=Nr(`<p>Notice the weird looking <code>{{peer.id}}</code> part. This is a template string that will be replaced by the peer&#39;s ID when the page loads using our custom <code>render</code> function. The thing I&#39;ve done in this page actually is to create additional HTML files with some template strings and load them when the page loads. You can check out the source code for this page on my GitHub repository to see how it&#39;s done but we&#39;re not going to cover that here. Just know that the <code>render</code> function returns some plain HTML content from the variables <code>content_1</code> and <code>content_2</code> that we can send to the user.</p><p>So here&#39;s the code for handling the routes:</p><pre class="code">peer.on(&#39;connection&#39;, (connection) =&gt; {
    connection.on(&#39;open&#39;, () =&gt; {
        const metadata = connection.metadata;

        if (metadata.route === &#39;/&#39;) {
            connection.send({
                content: render(content_1, {
                    &#39;peer.id&#39;: peer.id
                })
            })
            return
        }

        if (metadata.route === &#39;/about&#39;) {
            connection.send({
                content: render(content_2, {
                    &#39;metadata.query.name&#39;: metadata.query.name,
                    &#39;metadata.query.age&#39;: metadata.query.age
                })
            })
            return
        }
    })
})
</pre><p>That&#39;s it! Now, let&#39;s try it out and see what happens.</p>`,4),Nh={class:"d-flex justify-content-start mb-3"},Vh=["href"],zh=H("p",null,"We are going to add some interactivity to our web page next.",-1),Hh={class:"d-flex flex-column"},Kh=Nr(`<a href="#a-little-bit-interactivity" class="unlink"><h2 id="adding-routes" class="fw-bold">A little bit interactivity</h2></a><p>In this example, we are going to add a button to our page that will increment the counter on the page, whose value will be saved on the serving peer and updated on all the connected peers.</p><p>For this to work, we need 2 things: a way to send requests when a user clicks on the button and a way to announce the counter&#39;s value to all the connected peers.</p><p>To make it possible for the pages to access the peer and the connection objects, I&#39;ve assigned them to <code>window.peer</code> and <code>window.connection</code> respectively. With these in mind, we can add a script to our HTML file to modify the peer&#39;s connection event handler for the <code>data</code> event. I&#39;ve also tried to make it a bit fancier than the previous example, which was just plain HTML junk. </p><p> We have the following elements in our HTML file: </p><pre class="code">&lt;div id=&quot;container&quot;&gt;
    &lt;h1&gt;Welcome traveler!&lt;/h1&gt;
    &lt;p&gt;&lt;span id=&quot;counter&quot;&gt;{{counter}}&lt;/span&gt; people say hello to you!&lt;/p&gt;
    &lt;p&gt;Click the button to greet them back!&lt;/p&gt;
    &lt;div&gt;
        &lt;button id=&quot;greet&quot;&gt;Greet&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre><p>And we are going to add a script to the bottom of the page:</p><pre class="code">&lt;script&gt;
    document.querySelector(&#39;#greet&#39;).onclick = () =&gt; {
            window.connection.send(&#39;greet&#39;);
    }

    // Remove the listener for the data event
    window.connection.off(&#39;data&#39;);

    // Add the new listener for the data event
    window.connection.on(&#39;data&#39;, (data) =&gt; {
        if (data.type == &#39;update&#39;) {
            document.querySelector(&#39;#counter&#39;).innerHTML = data.value;
        }
    })
&lt;/script&gt;</pre><p>So here, we are sending a <code>greet</code> message to serving peer and listening for the <code>data</code> event to update the counter. When the received data has a <code>type</code> property of <code>update</code>, we update the value seen on our page.</p><p>Now, let&#39;s write our code for the serving peer to handle the <code>greet</code> message, increment the counter and send the updated value to all connected peers.</p><pre class="code">// Create a peer object and an array of connections
const peer = new Peer();
let connections = [];

// Create a counter
let counter = 0;

// Handle the connection event
peer.on(&#39;connection&#39;, (connection) =&gt; {
    // Send the page when a new peer connects
    connection.on(&#39;open&#39;, () =&gt; {
        connection.send({
            content: render(content_3, {
                &#39;counter&#39;: counter
            })
        })
    })

    // Remove the connection from the array when it closes
    connection.on(&#39;close&#39;, () =&gt; {
        connections = connections.filter(conn =&gt; conn.id != connection.peer);
    })

    // Handle the data event
    connection.on(&#39;data&#39;, (data) =&gt; {
        if (data == &#39;greet&#39;) {
            counter++;
            connections.map(conn =&gt; conn.connection.send({
                type: &#39;update&#39;,
                value: counter
            }))
        }
    })

    // Add the connection to the array
    connections.push({
        &#39;id&#39;: connection.peer,
        &#39;connection&#39;: connection
    });
})</pre><p>Here, we hold an array of the connections to announce the updated value to all peers via their open connections. Also, when a user closes their web page, the peer gets disconnected and we simply remove it from the array.</p><p>So, let&#39;s try it!</p>`,13),Gh={class:"d-flex justify-content-start mb-3"},qh=["href"],Jh=H("p",null,"Alright, we had fun. So, let's wrap it up.",-1),Wh=Nr('<div class="d-flex flex-column"><a href="#final-words" class="unlink"><h2 id="final-words" class="fw-bold">Final words</h2></a><p>This concept you&#39;ve seen here is definitely not a new one and it&#39;s some sort of <a href="https://en.wikipedia.org/wiki/Peer-to-peer_web_hosting">Peer-to-peer web hosting</a>. However, I wanted to explore the possibilities of P2P connections on the web myself and share my little experiment with you. As we have seen, it is quite possible to mimic a web server by creating a peer and handling all the requests by ourselves. Although we can basically do anything we want with this and run it on the web, there are some limitations that we need to consider.</p><p>First of all, the web page is served by a single peer on a browser. So, we can expect the performance to be not as good as a real dedicated web server. Also, P2P connections are sometimes blocked behind firewalls and NATs. This means that some users may not be able to access the web page, where we may also not serve the page in every network as well.</p><p>Moreover, we are not using any authentication for the addresses in this example, which means everyone can take over an address and serve their own stuff. Fortunately, this can be solved by hosting your own <a href="https://github.com/peers/peerjs-server">PeerServer</a> and prevent address hijacking by attaching a token to the address request, which will be checked by the server before assigning the address to the peer. Address reserving can be maintained by the server as well with user registration, which sounds kind of like a domain name registrar, doesn&#39;t it?</p><p>I hope you enjoyed this little experiment. If you want to build your own peer-to-peer web server, you can check out the <a href="https://github.com/kaangiray26/pages">source code</a> of this page on my GitHub repository. Stay connected!</p><p>Feel free to reach out to me on GitHub or you can send me an <a href="mailto:kaangiray26@protonmail.com">email!</a></p><div class="d-flex justify-content-start"><a class="unlink fw-bold" href="https://github.com/kaangiray26" target="_blank"><span class="bi bi-github me-2"></span><span>kaangiray26</span></a></div></div>',1),Yh={__name:"Serve",setup(e){const t=_t(null),n=_t(!1),r=_t([]),s=_t({address:"",content:""}),i=_t({content_1:"",content_2:"",content_3:""}),o=_t(0);async function a(x){const T=x.target.files[0],B=new FileReader;B.onload=async z=>{s.value.content=z.target.result},B.readAsText(T)}async function c(){t.value&&t.value.destroy(),!(!s.value.address||!s.value.content)&&(t.value=new fn([s.value.address],{config:{iceServers:[{urls:"turn:standard.relay.metered.ca:80",username:"f160ca84b24245367d899710",credential:"cc3qttBmJsFjPM/i"}]}}),t.value.on("open",()=>{n.value=!0}),t.value.on("connection",x=>{console.log("New connection:",x),x.on("open",()=>{x.send({content:s.value.content})}),x.on("error",T=>{console.log(T)})}),t.value.on("error",x=>{console.log(x),x.type=="unavailable-id"&&alert("This address is already in use. Please try another one.")}))}function f(x,T){return x.replace(/{{([^}]+)}}/g,function(B,z){return T[z]})}async function l(){t.value&&t.value.destroy(),t.value=new fn({config:{iceServers:[{urls:"turn:standard.relay.metered.ca:80",username:"f160ca84b24245367d899710",credential:"cc3qttBmJsFjPM/i"}]}}),t.value.on("open",()=>{s.value.address=t.value.id,n.value=!0}),t.value.on("connection",x=>{console.log("New connection:",x),x.on("open",()=>{const T=x.metadata;if(T.route==="/"){x.send({content:f(i.value.content_1,{"peer.id":t.value.id})});return}if(T.route==="/about"){x.send({content:f(i.value.content_2,{"metadata.query.name":T.query.name,"metadata.query.age":T.query.age})});return}})})}async function u(){t.value&&t.value.destroy(),t.value=new fn({config:{iceServers:[{urls:"turn:standard.relay.metered.ca:80",username:"f160ca84b24245367d899710",credential:"cc3qttBmJsFjPM/i"}]}}),o.value=0,t.value.on("open",()=>{s.value.address=t.value.id,n.value=!0}),t.value.on("connection",x=>{console.log("New connection:",x),x.on("open",()=>{if(x.metadata.route==="/"){x.send({content:f(i.value.content_3,{counter:o.value})});return}}),x.on("close",()=>{r.value=r.value.filter(T=>T.id!=x.peer)}),x.on("data",T=>{console.log(T),T=="greet"&&(o.value++,r.value.map(B=>B.connection.send({type:"update",value:o.value})))}),r.value.push({id:x.peer,connection:x})})}async function h(){t.value.destroy(),n.value=!1}async function _(){i.value.content_1=await fetch("/pages/content_1.html").then(x=>x.text()),i.value.content_2=await fetch("/pages/content_2.html").then(x=>x.text()),i.value.content_3=await fetch("/pages/content_3.html").then(x=>x.text())}return oi(()=>{_(),window.onbeforeunload=()=>{t.value&&t.value.destroy()}}),(x,T)=>(yt(),Rt("div",dh,[hh,ph,gh,H("div",mh,[yh,H("pre",_h,"server: "+en(n.value?"active":"not active"),1),bh,H("form",null,[H("div",vh,[xh,H("div",Ch,[kn(H("input",{"onUpdate:modelValue":T[0]||(T[0]=B=>s.value.address=B),type:"text",class:"form-control",placeholder:"example",id:"inputAddress",readonly:n.value},null,8,Sh),[[to,s.value.address]])]),H("span",kh,[Vt("Your web page will be available at "),H("a",{class:"fw-bold",href:"https://kaangiray26.github.io/pages/"+s.value.address,target:"_blank"}," https://kaangiray26.github.io/pages/"+en(s.value.address),9,Rh)])]),H("div",Th,[Eh,H("div",Ph,[kn(H("textarea",{"onUpdate:modelValue":T[1]||(T[1]=B=>s.value.content=B),class:"form-control",placeholder:"<h1>Hey people!</h1>",id:"inputContent",rows:"5"},null,512),[[to,s.value.content]]),H("div",wh,[Oh,H("input",{class:"form-control",type:"file",id:"formFile",onChange:a,accept:".html"},null,32)])])])])]),H("div",Mh,[Ih,Ah,H("div",Dh,[n.value?(yt(),Rt("button",{key:1,type:"button",class:"btn btn-danger",onClick:h},"Stop")):(yt(),Rt("button",{key:0,type:"button",class:"btn btn-primary",onClick:c},"Publish"))])]),jh,Lh,H("div",$h,[Bh,H("pre",Uh,en(i.value.content_1),1),Fh,H("div",Nh,[n.value?(yt(),Rt("button",{key:1,type:"button",class:"btn btn-danger",onClick:h},"Stop")):(yt(),Rt("button",{key:0,type:"button",class:"btn btn-primary",onClick:l},"Publish"))]),kn(H("p",null,[Vt(" Check it out on "),H("a",{class:"fw-bold",href:"https://kaangiray26.github.io/pages/"+s.value.address,target:"_blank"},"https://kaangiray26.github.io/pages/"+en(s.value.address),9,Vh)],512),[[Ss,n.value]]),zh]),H("div",Hh,[Kh,H("div",Gh,[n.value?(yt(),Rt("button",{key:1,type:"button",class:"btn btn-danger",onClick:h},"Stop")):(yt(),Rt("button",{key:0,type:"button",class:"btn btn-primary",onClick:u},"Publish"))]),kn(H("p",null,[Vt(" Check it out on "),H("a",{class:"fw-bold",href:"https://kaangiray26.github.io/pages/"+s.value.address,target:"_blank"},"https://kaangiray26.github.io/pages/"+en(s.value.address),9,qh)],512),[[Ss,n.value]]),Jh]),Wh]))}},Qh="/pages/star.svg",Xh={style:{position:"absolute",top:"0",left:"0",width:"100vw",height:"100vh",display:"flex","justify-content":"center","align-items":"center","background-color":"#1c1b22",color:"rgb(251, 251, 254)"}},Zh={style:{display:"flex","flex-direction":"column",padding:"3rem"}},ep=H("img",{src:Qh,width:"96",style:{"padding-bottom":"1rem"}},null,-1),tp=H("h1",null,"Hmm. We're having trouble finding that peer.",-1),np=H("p",null,"If you entered the right address, you can:",-1),rp=H("ul",null,[H("li",null,"Try again later"),H("li",null,"Check your network connection")],-1),sp={style:{display:"flex","justify-content":"end"}},ip=["href"],op={__name:"Page",setup(e){const t=vd(),n=_t(!1),r=_t({address:"",route:"",query:[]});async function s(o){document.open(),document.write(o.content),document.close()}async function i(o){window.onbeforeunload=()=>{window.peer&&window.peer.destroy()},window.peer=new fn({config:{iceServers:[{urls:"turn:standard.relay.metered.ca:80",username:"f160ca84b24245367d899710",credential:"cc3qttBmJsFjPM/i"}]}}),window.peer.on("open",()=>{window.connection=window.peer.connect(o.address,{reliable:!0,metadata:{route:o.route,query:o.query}}),window.connection.on("data",a=>{console.log("Received:",a),s(a)}),window.connection.on("error",a=>{console.log("Connection error:",a)})}),window.peer.on("error",a=>{console.log(a),a.type=="peer-unavailable"&&(n.value=!0)})}return oi(()=>{const o=t.currentRoute.value.params.pathMatch;r.value={address:o[0],route:"/"+o.slice(1).join("/"),query:t.currentRoute.value.query},i(r.value)}),(o,a)=>kn((yt(),Rt("div",Xh,[H("div",Zh,[ep,tp,H("p",null,"We can’t connect to the server at "+en(r.value.address)+".",1),np,rp,H("div",sp,[H("a",{href:Nt(t).currentRoute.value.fullPath,style:{"background-color":"#ffc107",color:"rgb(43, 42, 51)",padding:"0 1.5em","font-weight":"600","text-decoration":"none","border-radius":"4px","min-height":"32px","line-height":"19.5px",display:"flex","align-items":"center"}},"Try again",8,ip)])])],512)),[[Ss,n.value]])}},ap=[{path:"/pages/",component:Yh},{path:"/pages/:pathMatch(.*)*",component:op}],cp=_d({history:Du(),routes:ap});fu(mu).use(cp).mount("#app");
